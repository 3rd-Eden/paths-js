{"version":3,"sources":["node_modules/browser-pack/_prelude.js","dist/node/all.js","dist/node/bezier.js","dist/node/bar.js","dist/node/connector.js","dist/node/curved-rectangle.js","dist/node/graph.js","dist/node/linear.js","dist/node/pie.js","dist/node/path.js","dist/node/polygon.js","dist/node/radar.js","dist/node/rectangle.js","dist/node/sankey.js","dist/node/sector.js","dist/node/semi-regular-polygon.js","dist/node/smooth-line.js","dist/node/stack.js","dist/node/stock.js","dist/node/tree.js","dist/node/voronoi.js","dist/node/waterfall.js","dist/node/ops.js","dist/node/barnes-hut.js","dist/node/line-chart-comp.js","dist/node/tree-utils.js","dist/node/fortune.js","dist/node/beachline.js","dist/node/event.js","dist/node/geom.js","dist/node/binarytree.js","dist/node/segment.js"],"names":["_interopRequireDefault","obj","__esModule","default","_bar","require","_bar2","_bezier","_bezier2","_connector","_connector2","_curvedRectangle","_curvedRectangle2","_graph","_graph2","_linear","_linear2","_path","_path2","_pie","_pie2","_polygon","_polygon2","_radar","_radar2","_rectangle","_rectangle2","_sankey","_sankey2","_sector","_sector2","_semiRegularPolygon","_semiRegularPolygon2","_smoothLine","_smoothLine2","_stack","_stack2","_stock","_stock2","_tree","_tree2","_voronoi","_voronoi2","_waterfall","_waterfall2","global","eval","Paths","Bar","Bezier","Connector","CurvedRectangle","Graph","Linear","Path","Pie","Polygon","Radar","Rectangle","Sankey","Sector","SemiRegularPolygon","SmoothLine","Stack","Stock","Tree","Voronoi","Waterfall","_toConsumableArray","arr","Array","isArray","i","arr2","length","from","Object","defineProperty","exports","value","_ops","reflect","p","q","minus","times","_ref","_Path","points","tension","diffs","l","push","controlPoints","plus","average","c0","c1","p0","p1","path","moveto","apply","curveto","range","reduce","pt","c","smoothcurveto","centroid","module","_slicedToArray","sliceIterator","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","err","TypeError","data","_ref$accessor","accessor","id","width","height","min","max","_ref$gutter","gutter","_ref$offset","offset","compute","groups","minUnset","maxUnset","_offset","offX","offY","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","entries","_step$value","d","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_step3$value","j","el","val","n","groupWidth","curves","scale","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_step2$value","g","w","shift","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","_step4$value","left","right","bottom","_top","line","top","enhance","item","group","index","_Path$moveto$lineto$curveto","_Path$moveto","start","end","_start","a","b","_end","mid1","lineto","topleft","topright","bottomleft","bottomright","topCurve","bottomCurve","connect","closepath","_barnesHut","_barnesHut2","randomPosition","h","Math","random","cap","bound","x","inside","_ref2","y","attractiveForces","links","positions","attraction","forces","keys","_links$id","weight","pos1","pos2","force","_ref3","nodeaccessor","linkaccessor","repulsion","threshold","identity","nodes","constraints","nodesPositions","nodes_","node","links_","link","_linkaccessor","tick","bodies","root","tree","attractions","repulsions","position","f1","f2","f","recompute","constrain","unconstrain","graph","mapObject","_ref4","closed","point","linear","_ref32","inverse","center","r","R","values","map","s","sum","PI","t","sector","init","_instructions","copy","slice","areEqualPoints","a1","b1","a2","b2","trimZeros","string","char","charAt","substr","round","number","digits","str","toFixed","printInstrunction","command","params","numbers","param","join","_ref5","_ref6","_ref62","prevX","prevY","verbosify","args","k","arguments","instruction","hlineto","vlineto","x1","y1","x2","y2","qcurveto","smoothqcurveto","arc","rx","ry","xrot","largeArcFlag","sweepFlag","print","toString","ps","prev","instructions","this","last","first","newInstructions","unshift","concat","head","tail","collectKeys","objects","object","key","indexOf","keyAccessor","o","globalMax","maxs","maxBy","_ref$rings","rings","_ref$compute","sides","ringPaths","radius","radii","polygons","polygon","rectWidth","level","spacingGroups","nameValues","forEach","name","currentlyUsedIn","currentlyUsedOut","_loop","valsIn","sumBy","filter","valsOut","pairs","heightOfGroups","spaceForEachGroup","heightOfGroup","idx","scaledValue","rectangles","nodeIdx","idg","hGroup","firstTop","previousBottom","idn","att","rectangleCoords","curve","curvedRectangles","rectSource","rectTarget","scaledWeight","curvedRect","_Path$moveto$arc$lineto","_Path$moveto$arc","onCircle","large","midAngle","midRadius","angle","_lineChartComp","_lineChartComp2","options","_comp","arranged","xscale","yscale","base","lines","_line$path$lineto","_line$path","xmin","xmax","scaledPoints","area","barWidth","scaledPointsClosed","_treeUtils","children","buildTree","levels","treeHeight","maxHeights","setHeight","hscale","vscales","availableHeight","sqrt","maxHeight","vscale","height_","connectors","collect","parent","child","connector","childNodes","rootNode","xrange","yrange","sites","sq","xm","ym","diag","closingPoints","fortune","_fortune2","patches","getPatches","site","scaledPatch","_ref22","_fortune","_ref$min","_ref$max","data_","_accessor","absolute","low","high","m","M","xs","minBy","Infinity","_ref42","_ref52","_ref7","_ref72","sumVectors","sin","cos","method","inclusive","result","v","body1","body2","mass","locate","quadrants","_q$box","box","makeQuadrant","halfwayV","halfwayH","subdivide","addBody","body","oldBody","makeTree","_x","_x2","_again","makeBodies","makeRoot","walkLeaves","bodyForceOn","segment","boxWidth","forceOn","leaf","repulsiveForces","epsilon","datum","sort","sorted","ymin","ymax","xaccessor","yaccessor","_ref4$sort","items","cs","Fortune","events","beach","_beachline2","edges","create","iterations","_event2","add","_beachline","_geom","_geom2","_event","prototype","addCircleEvent","arcNode","sweepY","approx","lNodes","getLLeafAndLParent","lArcNode","lEdgeNode","rNodes","getRLeafAndRParent","rArcNode","rEdgeNode","doHalflinesCross","vertexCoord","circumCenter","eventCoord","distPointToPoint","cEvent","rmCircleEvent","rm","manageSiteEvent","event","splice","crossedArcNode","getArcNodeOnSite","coord","addArc","manageCircleEvent","deadEdgeA","edgesNodes","deadEdgeB","pe","rmArc","arcsNodes","getPoints","getEdges","pointSize","pointsColor","edgesColor","isIn","array","insertByAtan","vs","atan2","assignEdgeBounds","edge","pl","pr","Beachline","_binarytree2","call","_binarytree","_segment","_segment2","isLeaf","curNode","solN","parabolsCrossX","newArcSite","crossedArcSite","crossPoint","distPointToParabol","newLHalfedge","newRHalfedge","addLChild","addRChild","newEdgeStart","liveLArcNode","deadArcNode","liveRArcNode","isRChild","liveCutBranch","midEdgeNode","topEdgeNode","Event","arcSiteOrNodes","goToEventIndex","es","console","log","ax","ay","bx","by","abs","xc","yc","fa","fb","s1","s2","sa","sb","dx","dy","hp","vec","det","u","BinaryTree","isRoot","isLChild","lparent","rparent","Segment"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _bar = require('./bar');\n\nvar _bar2 = _interopRequireDefault(_bar);\n\nvar _bezier = require('./bezier');\n\nvar _bezier2 = _interopRequireDefault(_bezier);\n\nvar _connector = require('./connector');\n\nvar _connector2 = _interopRequireDefault(_connector);\n\nvar _curvedRectangle = require('./curved-rectangle');\n\nvar _curvedRectangle2 = _interopRequireDefault(_curvedRectangle);\n\nvar _graph = require('./graph');\n\nvar _graph2 = _interopRequireDefault(_graph);\n\nvar _linear = require('./linear');\n\nvar _linear2 = _interopRequireDefault(_linear);\n\nvar _path = require('./path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _pie = require('./pie');\n\nvar _pie2 = _interopRequireDefault(_pie);\n\nvar _polygon = require('./polygon');\n\nvar _polygon2 = _interopRequireDefault(_polygon);\n\nvar _radar = require('./radar');\n\nvar _radar2 = _interopRequireDefault(_radar);\n\nvar _rectangle = require('./rectangle');\n\nvar _rectangle2 = _interopRequireDefault(_rectangle);\n\nvar _sankey = require('./sankey');\n\nvar _sankey2 = _interopRequireDefault(_sankey);\n\nvar _sector = require('./sector');\n\nvar _sector2 = _interopRequireDefault(_sector);\n\nvar _semiRegularPolygon = require('./semi-regular-polygon');\n\nvar _semiRegularPolygon2 = _interopRequireDefault(_semiRegularPolygon);\n\nvar _smoothLine = require('./smooth-line');\n\nvar _smoothLine2 = _interopRequireDefault(_smoothLine);\n\nvar _stack = require('./stack');\n\nvar _stack2 = _interopRequireDefault(_stack);\n\nvar _stock = require('./stock');\n\nvar _stock2 = _interopRequireDefault(_stock);\n\nvar _tree = require('./tree');\n\nvar _tree2 = _interopRequireDefault(_tree);\n\nvar _voronoi = require('./voronoi');\n\nvar _voronoi2 = _interopRequireDefault(_voronoi);\n\nvar _waterfall = require('./waterfall');\n\nvar _waterfall2 = _interopRequireDefault(_waterfall);\n\n(function () {\n  \"use strict\";\n\n  var global = (1, eval)('this');\n\n  global.Paths = {\n    Bar: _bar2['default'],\n    Bezier: _bezier2['default'],\n    Connector: _connector2['default'],\n    CurvedRectangle: _curvedRectangle2['default'],\n    Graph: _graph2['default'],\n    Linear: _linear2['default'],\n    Path: _path2['default'],\n    Pie: _pie2['default'],\n    Polygon: _polygon2['default'],\n    Radar: _radar2['default'],\n    Rectangle: _rectangle2['default'],\n    Sankey: _sankey2['default'],\n    Sector: _sector2['default'],\n    SemiRegularPolygon: _semiRegularPolygon2['default'],\n    SmoothLine: _smoothLine2['default'],\n    Stack: _stack2['default'],\n    Stock: _stock2['default'],\n    Tree: _tree2['default'],\n    Voronoi: _voronoi2['default'],\n    Waterfall: _waterfall2['default']\n  };\n})();","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nvar _path = require('./path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _polygon = require('./polygon');\n\nvar _polygon2 = _interopRequireDefault(_polygon);\n\nvar _ops = require('./ops');\n\nvar reflect = function reflect(p, q) {\n  return (0, _ops.minus)((0, _ops.times)(2, p), q);\n};\n\nexports['default'] = function (_ref) {\n  var _Path;\n\n  var points = _ref.points;\n  var tension = _ref.tension;\n\n  tension = tension || 0.3;\n  var diffs = [];\n  var l = points.length;\n  if (l <= 2) {\n    return (0, _polygon2['default'])({ points: points });\n  }\n  for (var i = 1; i <= l - 1; i++) {\n    diffs.push((0, _ops.times)(tension, (0, _ops.minus)(points[i], points[i - 1])));\n  }\n  var controlPoints = [(0, _ops.plus)(points[0], reflect(diffs[0], diffs[1]))];\n  for (var i = 1; i <= l - 2; i++) {\n    controlPoints.push((0, _ops.minus)(points[i], (0, _ops.average)([diffs[i], diffs[i - 1]])));\n  }\n  controlPoints.push((0, _ops.minus)(points[l - 1], reflect(diffs[l - 2], diffs[l - 3])));\n  var c0 = controlPoints[0];\n  var c1 = controlPoints[1];\n  var p0 = points[0];\n  var p1 = points[1];\n  var path = (_Path = (0, _path2['default'])()).moveto.apply(_Path, _toConsumableArray(p0)).curveto(c0[0], c0[1], c1[0], c1[1], p1[0], p1[1]);\n\n  return {\n    path: (0, _ops.range)(2, l).reduce(function (pt, i) {\n      var c = controlPoints[i];\n      var p = points[i];\n      return pt.smoothcurveto(c[0], c[1], p[0], p[1]);\n    }, path),\n    centroid: (0, _ops.average)(points)\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _linear = require('./linear');\n\nvar _linear2 = _interopRequireDefault(_linear);\n\nvar _rectangle = require('./rectangle');\n\nvar _rectangle2 = _interopRequireDefault(_rectangle);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var data = _ref.data;\n  var _ref$accessor = _ref.accessor;\n  var accessor = _ref$accessor === undefined ? _ops.id : _ref$accessor;\n  var width = _ref.width;\n  var height = _ref.height;\n  var min = _ref.min;\n  var max = _ref.max;\n  var _ref$gutter = _ref.gutter;\n  var gutter = _ref$gutter === undefined ? 10 : _ref$gutter;\n  var _ref$offset = _ref.offset;\n  var offset = _ref$offset === undefined ? [0, 0] : _ref$offset;\n  var compute = _ref.compute;\n\n  var groups = [];\n  var minUnset = false;\n  var maxUnset = false;\n  if (min == null) {\n    min = 0;minUnset = true;\n  }\n  if (max == null) {\n    max = 0;maxUnset = true;\n  }\n\n  var _offset = _slicedToArray(offset, 2);\n\n  var offX = _offset[0];\n  var offY = _offset[1];\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n\n    for (var _iterator = data.entries()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var _step$value = _slicedToArray(_step.value, 2);\n\n      var i = _step$value[0];\n      var d = _step$value[1];\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = d.entries()[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var _step3$value = _slicedToArray(_step3.value, 2);\n\n          var j = _step3$value[0];\n          var el = _step3$value[1];\n\n          var val = accessor(el);\n          if (minUnset && val < min) {\n            min = val;\n          }\n          if (maxUnset && val > max) {\n            max = val;\n          }\n          if (groups[j] == null) {\n            groups[j] = [];\n          }\n          groups[j][i] = val;\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3['return']) {\n            _iterator3['return']();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var n = groups.length;\n  var groupWidth = (width - gutter * (n - 1)) / n;\n  var curves = [];\n  var scale = (0, _linear2['default'])([min, max], [height + offY, offY]);\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = groups.entries()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var _step2$value = _slicedToArray(_step2.value, 2);\n\n      var i = _step2$value[0];\n      var g = _step2$value[1];\n\n      var w = groupWidth / g.length;\n      var shift = (groupWidth + gutter) * i + offX;\n      var _iteratorNormalCompletion4 = true;\n      var _didIteratorError4 = false;\n      var _iteratorError4 = undefined;\n\n      try {\n        for (var _iterator4 = g.entries()[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n          var _step4$value = _slicedToArray(_step4.value, 2);\n\n          var j = _step4$value[0];\n          var el = _step4$value[1];\n\n          var left = shift + w * j;\n          var right = left + w;\n          var bottom = scale(0);\n          var _top = scale(el);\n          var line = (0, _rectangle2['default'])({ left: left, right: right, bottom: bottom, top: _top });\n          curves.push((0, _ops.enhance)(compute, {\n            item: data[j][i],\n            line: line,\n            group: i,\n            index: j\n          }));\n        }\n      } catch (err) {\n        _didIteratorError4 = true;\n        _iteratorError4 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion4 && _iterator4['return']) {\n            _iterator4['return']();\n          }\n        } finally {\n          if (_didIteratorError4) {\n            throw _iteratorError4;\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n        _iterator2['return']();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  return { curves: curves, scale: scale };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nvar _path = require('./path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var _Path$moveto$lineto$curveto, _Path$moveto, _Path;\n\n  var start = _ref.start;\n  var end = _ref.end;\n  var tension = _ref.tension;\n\n  if (tension == null) {\n    tension = 0.05;\n  }\n\n  var _start = _slicedToArray(start, 2);\n\n  var a = _start[0];\n  var b = _start[1];\n\n  var _end = _slicedToArray(end, 2);\n\n  var c = _end[0];\n  var d = _end[1];\n\n  var length = (c - a) * tension;\n  var mid1 = [a + length, b];\n  var mid2 = [c - length, d];\n\n  return {\n    path: (_Path$moveto$lineto$curveto = (_Path$moveto = (_Path = (0, _path2['default'])()).moveto.apply(_Path, _toConsumableArray(start))).lineto.apply(_Path$moveto, mid1).curveto(a + 5 * length, b, c - 5 * length, d, c - length, d)).lineto.apply(_Path$moveto$lineto$curveto, _toConsumableArray(end)),\n    centroid: (0, _ops.average)([start, end])\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _path = require('./path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _connector = require('./connector');\n\nvar _connector2 = _interopRequireDefault(_connector);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var topleft = _ref.topleft;\n  var topright = _ref.topright;\n  var bottomleft = _ref.bottomleft;\n  var bottomright = _ref.bottomright;\n\n  var topCurve = (0, _connector2['default'])({ start: topleft, end: topright }).path;\n  var bottomCurve = (0, _connector2['default'])({ start: bottomright, end: bottomleft }).path;\n  var path = topCurve.connect(bottomCurve).closepath();\n  var centroid = (0, _ops.average)([topleft, topright, bottomleft, bottomright]);\n\n  return {\n    path: path,\n    centroid: centroid\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _polygon = require('./polygon');\n\nvar _polygon2 = _interopRequireDefault(_polygon);\n\nvar _ops = require('./ops');\n\nvar _barnesHut = require('./barnes-hut');\n\nvar _barnesHut2 = _interopRequireDefault(_barnesHut);\n\nvar randomPosition = function randomPosition(w, h) {\n  return [Math.random() * w, Math.random() * h];\n};\n\nvar cap = function cap(bound, x) {\n  return Math.min(Math.max(x, 0), bound);\n};\n\nvar inside = function inside(w, h) {\n  return function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2);\n\n    var x = _ref2[0];\n    var y = _ref2[1];\n    return [cap(w, x), cap(h, y)];\n  };\n};\n\nvar attractiveForces = function attractiveForces(links, positions, attraction) {\n  var forces = {};\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = Object.keys(links)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var id = _step.value;\n      var _links$id = links[id];\n      var start = _links$id.start;\n      var end = _links$id.end;\n      var weight = _links$id.weight;\n\n      var pos1 = positions[start];\n      var pos2 = positions[end];\n      var force = (0, _ops.times)(attraction * weight, (0, _ops.minus)(pos1, pos2));\n      if (!forces[start]) {\n        forces[start] = [0, 0];\n      }\n      if (!forces[end]) {\n        forces[end] = [0, 0];\n      }\n      forces[start] = (0, _ops.minus)(forces[start], force);\n      forces[end] = (0, _ops.plus)(forces[end], force);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return forces;\n};\n\nexports['default'] = function (_ref3) {\n  var data = _ref3.data;\n  var nodeaccessor = _ref3.nodeaccessor;\n  var linkaccessor = _ref3.linkaccessor;\n  var width = _ref3.width;\n  var height = _ref3.height;\n  var attraction = _ref3.attraction;\n  var repulsion = _ref3.repulsion;\n  var threshold = _ref3.threshold;\n\n  var identity = function identity(x) {\n    return x;\n  };\n  if (!nodeaccessor) {\n    nodeaccessor = identity;\n  }\n  if (!linkaccessor) {\n    linkaccessor = identity;\n  }\n  attraction = attraction || 1;\n  repulsion = repulsion || 1;\n  threshold = threshold || 0.5;\n  var bound = inside(width, height);\n\n  var nodes = data.nodes;\n  var links = data.links;\n  var constraints = data.constraints;\n\n  if (!constraints) {\n    constraints = {};\n  }\n  var nodesPositions = {};\n  var nodes_ = {};\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = nodes[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var node = _step2.value;\n\n      var id = nodeaccessor(node);\n      nodesPositions[id] = constraints[id] || randomPosition(width, height);\n      nodes_[id] = node;\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n        _iterator2['return']();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  var links_ = {};\n\n  var _iteratorNormalCompletion3 = true;\n  var _didIteratorError3 = false;\n  var _iteratorError3 = undefined;\n\n  try {\n    for (var _iterator3 = links[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n      var link = _step3.value;\n\n      var _linkaccessor = linkaccessor(link);\n\n      var start = _linkaccessor.start;\n      var end = _linkaccessor.end;\n      var weight = _linkaccessor.weight;\n\n      links_[start + '|' + end] = { weight: weight, start: start, end: end, link: link };\n    }\n  } catch (err) {\n    _didIteratorError3 = true;\n    _iteratorError3 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion3 && _iterator3['return']) {\n        _iterator3['return']();\n      }\n    } finally {\n      if (_didIteratorError3) {\n        throw _iteratorError3;\n      }\n    }\n  }\n\n  var tick = function tick() {\n    var bodies = _barnesHut2['default'].bodies(nodesPositions);\n    var root = _barnesHut2['default'].root(width, height);\n    var tree = _barnesHut2['default'].tree(bodies, root);\n    var attractions = attractiveForces(links_, nodesPositions, attraction / 1000);\n    var repulsions = _barnesHut2['default'].forces(tree, repulsion * 1000, threshold);\n    var _iteratorNormalCompletion4 = true;\n    var _didIteratorError4 = false;\n    var _iteratorError4 = undefined;\n\n    try {\n      for (var _iterator4 = Object.keys(nodesPositions)[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n        var id = _step4.value;\n\n        var position = nodesPositions[id];\n        if (constraints[id]) {\n          nodesPositions[id] = constraints[id];\n        } else {\n          var f1 = attractions[id] || [0, 0];\n          var f2 = repulsions[id] || [0, 0];\n          var f = (0, _ops.plus)(f1, f2);\n          nodesPositions[id] = bound((0, _ops.plus)(position, f));\n        }\n      }\n    } catch (err) {\n      _didIteratorError4 = true;\n      _iteratorError4 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion4 && _iterator4['return']) {\n          _iterator4['return']();\n        }\n      } finally {\n        if (_didIteratorError4) {\n          throw _iteratorError4;\n        }\n      }\n    }\n\n    return recompute();\n  };\n\n  var constrain = function constrain(id, position) {\n    constraints[id] = position;\n  };\n\n  var unconstrain = function unconstrain(id) {\n    delete constraints[id];\n  };\n\n  var graph = { tick: tick, constrain: constrain, unconstrain: unconstrain };\n\n  var recompute = function recompute() {\n    var i = -1;\n    graph.curves = (0, _ops.mapObject)(links_, function (id, _ref4) {\n      var start = _ref4.start;\n      var end = _ref4.end;\n      var link = _ref4.link;\n\n      i += 1;\n      var p = nodesPositions[start];\n      var q = nodesPositions[end];\n\n      return {\n        link: (0, _polygon2['default'])({ points: [p, q], closed: false }),\n        item: link,\n        index: i\n      };\n    });\n\n    graph.nodes = (0, _ops.mapObject)(nodes_, function (id, node) {\n      return {\n        point: nodesPositions[id],\n        item: node\n      };\n    });\n\n    return graph;\n  };\n\n  return recompute();\n};\n\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; })();\n\nvar linear = function linear(_ref, _ref3) {\n  var _ref2 = _slicedToArray(_ref, 2);\n\n  var a = _ref2[0];\n  var b = _ref2[1];\n\n  var _ref32 = _slicedToArray(_ref3, 2);\n\n  var c = _ref32[0];\n  var d = _ref32[1];\n\n  var f = function f(x) {\n    return c + (d - c) * (x - a) / (b - a);\n  };\n\n  f.inverse = function () {\n    return linear([c, d], [a, b]);\n  };\n  return f;\n};\n\nexports[\"default\"] = linear;\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _linear = require('./linear');\n\nvar _linear2 = _interopRequireDefault(_linear);\n\nvar _sector = require('./sector');\n\nvar _sector2 = _interopRequireDefault(_sector);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var data = _ref.data;\n  var accessor = _ref.accessor;\n  var center = _ref.center;\n  var r = _ref.r;\n  var R = _ref.R;\n  var compute = _ref.compute;\n\n  var values = data.map(accessor);\n  var s = (0, _ops.sum)(values);\n  var scale = (0, _linear2['default'])([0, s], [0, 2 * Math.PI]);\n  var curves = [];\n  var t = 0;\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = data.entries()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var _step$value = _slicedToArray(_step.value, 2);\n\n      var i = _step$value[0];\n      var item = _step$value[1];\n\n      var value = values[i];\n      curves.push((0, _ops.enhance)(compute, {\n        item: item,\n        index: i,\n        sector: (0, _sector2['default'])({\n          center: center,\n          r: r,\n          R: R,\n          start: scale(t),\n          end: scale(t + value)\n        })\n      }));\n      t += value;\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return { curves: curves };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar Path = function Path(init) {\n  var _instructions = init || [];\n\n  var push = function push(arr, el) {\n    var copy = arr.slice(0, arr.length);\n    copy.push(el);\n    return copy;\n  };\n\n  var areEqualPoints = function areEqualPoints(_ref, _ref3) {\n    var _ref2 = _slicedToArray(_ref, 2);\n\n    var a1 = _ref2[0];\n    var b1 = _ref2[1];\n\n    var _ref32 = _slicedToArray(_ref3, 2);\n\n    var a2 = _ref32[0];\n    var b2 = _ref32[1];\n    return a1 === a2 && b1 === b2;\n  };\n\n  var trimZeros = function trimZeros(string, char) {\n    var l = string.length;\n    while (string.charAt(l - 1) === '0') {\n      l = l - 1;\n    }\n    if (string.charAt(l - 1) === '.') {\n      l = l - 1;\n    }\n    return string.substr(0, l);\n  };\n\n  var round = function round(number, digits) {\n    var str = number.toFixed(digits);\n    return trimZeros(str);\n  };\n\n  var printInstrunction = function printInstrunction(_ref4) {\n    var command = _ref4.command;\n    var params = _ref4.params;\n\n    var numbers = params.map(function (param) {\n      return round(param, 6);\n    });\n    return command + ' ' + numbers.join(' ');\n  };\n\n  var point = function point(_ref5, _ref6) {\n    var command = _ref5.command;\n    var params = _ref5.params;\n\n    var _ref62 = _slicedToArray(_ref6, 2);\n\n    var prevX = _ref62[0];\n    var prevY = _ref62[1];\n\n    switch (command) {\n      case 'M':\n        return [params[0], params[1]];\n      case 'L':\n        return [params[0], params[1]];\n      case 'H':\n        return [params[0], prevY];\n      case 'V':\n        return [prevX, params[0]];\n      case 'Z':\n        return null;\n      case 'C':\n        return [params[4], params[5]];\n      case 'S':\n        return [params[2], params[3]];\n      case 'Q':\n        return [params[2], params[3]];\n      case 'T':\n        return [params[0], params[1]];\n      case 'A':\n        return [params[5], params[6]];\n    }\n  };\n\n  var verbosify = function verbosify(keys, f) {\n    return function (a) {\n      var args = typeof a === 'object' ? keys.map(function (k) {\n        return a[k];\n      }) : arguments;\n      return f.apply(null, args);\n    };\n  };\n\n  var plus = function plus(instruction) {\n    return Path(push(_instructions, instruction));\n  };\n\n  return {\n    moveto: verbosify(['x', 'y'], function (x, y) {\n      return plus({\n        command: 'M',\n        params: [x, y]\n      });\n    }),\n    lineto: verbosify(['x', 'y'], function (x, y) {\n      return plus({\n        command: 'L',\n        params: [x, y]\n      });\n    }),\n    hlineto: verbosify(['x'], function (x) {\n      return plus({\n        command: 'H',\n        params: [x]\n      });\n    }),\n    vlineto: verbosify(['y'], function (y) {\n      return plus({\n        command: 'V',\n        params: [y]\n      });\n    }),\n    closepath: function closepath() {\n      return plus({\n        command: 'Z',\n        params: []\n      });\n    },\n    curveto: verbosify(['x1', 'y1', 'x2', 'y2', 'x', 'y'], function (x1, y1, x2, y2, x, y) {\n      return plus({\n        command: 'C',\n        params: [x1, y1, x2, y2, x, y]\n      });\n    }),\n    smoothcurveto: verbosify(['x2', 'y2', 'x', 'y'], function (x2, y2, x, y) {\n      return plus({\n        command: 'S',\n        params: [x2, y2, x, y]\n      });\n    }),\n    qcurveto: verbosify(['x1', 'y1', 'x', 'y'], function (x1, y1, x, y) {\n      return plus({\n        command: 'Q',\n        params: [x1, y1, x, y]\n      });\n    }),\n    smoothqcurveto: verbosify(['x', 'y'], function (x, y) {\n      return plus({\n        command: 'T',\n        params: [x, y]\n      });\n    }),\n    arc: verbosify(['rx', 'ry', 'xrot', 'largeArcFlag', 'sweepFlag', 'x', 'y'], function (rx, ry, xrot, largeArcFlag, sweepFlag, x, y) {\n      return plus({\n        command: 'A',\n        params: [rx, ry, xrot, largeArcFlag, sweepFlag, x, y]\n      });\n    }),\n    print: function print() {\n      return _instructions.map(printInstrunction).join(' ');\n    },\n    toString: function toString() {\n      return undefined.print();\n    },\n    points: function points() {\n      var ps = [];\n      var prev = [0, 0];\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = _instructions[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var instruction = _step.value;\n\n          var p = point(instruction, prev);\n          prev = p;\n          if (p) {\n            ps.push(p);\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator['return']) {\n            _iterator['return']();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return ps;\n    },\n    instructions: function instructions() {\n      return _instructions.slice(0, _instructions.length);\n    },\n    connect: function connect(path) {\n      var ps = this.points();\n      var last = ps[ps.length - 1];\n      var first = path.points()[0];\n      var newInstructions = path.instructions().slice(1);\n      if (!areEqualPoints(last, first)) {\n        newInstructions.unshift({\n          command: \"L\",\n          params: first\n        });\n      }\n      return Path(this.instructions().concat(newInstructions));\n    }\n  };\n};\n\nexports['default'] = function () {\n  return Path();\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nvar _path = require('./path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var _Path;\n\n  var points = _ref.points;\n  var closed = _ref.closed;\n\n  var l = points.length;\n  var head = points[0];\n  var tail = points.slice(1, l + 1);\n  var path = tail.reduce(function (pt, p) {\n    return pt.lineto.apply(pt, _toConsumableArray(p));\n  }, (_Path = (0, _path2['default'])()).moveto.apply(_Path, _toConsumableArray(head)));\n\n  return {\n    path: closed ? path.closepath() : path,\n    centroid: (0, _ops.average)(points)\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _semiRegularPolygon = require('./semi-regular-polygon');\n\nvar _semiRegularPolygon2 = _interopRequireDefault(_semiRegularPolygon);\n\nvar _ops = require('./ops');\n\nvar collectKeys = function collectKeys(objects) {\n  var keys = [];\n  var keysets = objects.map(Object.keys);\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = objects[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var object = _step.value;\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = Object.keys(object)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var key = _step2.value;\n\n          if (keys.indexOf(key) == -1) {\n            keys.push(key);\n          }\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n            _iterator2['return']();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return keys;\n};\n\nvar keyAccessor = function keyAccessor(keys) {\n  var a = {};\n  var _iteratorNormalCompletion3 = true;\n  var _didIteratorError3 = false;\n  var _iteratorError3 = undefined;\n\n  try {\n    for (var _iterator3 = keys[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n      var key = _step3.value;\n\n      (function (k) {\n        a[k] = function (o) {\n          return o[k];\n        };\n      })(key);\n    }\n  } catch (err) {\n    _didIteratorError3 = true;\n    _iteratorError3 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion3 && _iterator3['return']) {\n        _iterator3['return']();\n      }\n    } finally {\n      if (_didIteratorError3) {\n        throw _iteratorError3;\n      }\n    }\n  }\n\n  return a;\n};\n\nvar globalMax = function globalMax(data, accessor) {\n  var keys = Object.keys(accessor);\n  var maxs = data.map(function (d) {\n    return (0, _ops.maxBy)(keys, function (k) {\n      return accessor[k](d);\n    });\n  });\n  return (0, _ops.max)(maxs);\n};\n\nexports['default'] = function (_ref) {\n  var data = _ref.data;\n  var accessor = _ref.accessor;\n  var center = _ref.center;\n  var r = _ref.r;\n  var max = _ref.max;\n  var _ref$rings = _ref.rings;\n  var rings = _ref$rings === undefined ? 3 : _ref$rings;\n  var _ref$compute = _ref.compute;\n  var compute = _ref$compute === undefined ? {} : _ref$compute;\n\n  if (!accessor) {\n    accessor = keyAccessor(collectKeys(data));\n  }\n  var keys = Object.keys(accessor);\n  var sides = keys.length;\n  var angle = 2 * Math.PI / sides;\n  var i = -1;\n  if (max == null) {\n    max = globalMax(data, accessor);\n  }\n\n  var ringPaths = (0, _ops.range)(1, rings, true).map(function (n) {\n    var radius = r * n / rings;\n    return (0, _semiRegularPolygon2['default'])({\n      center: center,\n      radii: (0, _ops.range)(0, sides).map(function (s) {\n        return radius;\n      })\n    });\n  });\n\n  var polygons = data.map(function (d) {\n    i += 1;\n\n    return (0, _ops.enhance)(compute, {\n      polygon: (0, _semiRegularPolygon2['default'])({\n        center: center,\n        radii: keys.map(function (k) {\n          return r * accessor[k](d) / max;\n        })\n      }),\n      item: d,\n      index: i\n    });\n  });\n\n  return {\n    curves: polygons,\n    rings: ringPaths\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _polygon = require('./polygon');\n\nvar _polygon2 = _interopRequireDefault(_polygon);\n\nexports['default'] = function (_ref) {\n  var left = _ref.left;\n  var right = _ref.right;\n  var top = _ref.top;\n  var bottom = _ref.bottom;\n\n  return (0, _polygon2['default'])({\n    points: [[right, top], [right, bottom], [left, bottom], [left, top]],\n    closed: true\n  });\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _rectangle = require('./rectangle');\n\nvar _rectangle2 = _interopRequireDefault(_rectangle);\n\nvar _curvedRectangle = require('./curved-rectangle');\n\nvar _curvedRectangle2 = _interopRequireDefault(_curvedRectangle);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var data = _ref.data;\n  var nodeaccessor = _ref.nodeaccessor;\n  var linkaccessor = _ref.linkaccessor;\n  var width = _ref.width;\n  var height = _ref.height;\n  var gutter = _ref.gutter;\n  var rectWidth = _ref.rectWidth;\n  var compute = _ref.compute;\n\n  var id = function id(x) {\n    return x;\n  };\n  if (!nodeaccessor) {\n    nodeaccessor = id;\n  }\n  if (!linkaccessor) {\n    linkaccessor = id;\n  }\n  gutter = gutter || 10;\n  rectWidth = rectWidth || 10;\n\n  var links_ = data.links.map(linkaccessor);\n  var nodes_ = data.nodes.map(function (level) {\n    return level.map(nodeaccessor);\n  });\n\n  // Compute the spacing between groups of rectangles;\n  // takes care of rects width\n  var spacingGroups = (width - rectWidth) / (data.nodes.length - 1);\n  var nameValues = {};\n\n  // Initialize the information about nodes\n  nodes_.reduce(function (a, b) {\n    return a.concat(b);\n  }).forEach(function (name) {\n    nameValues[name] = {\n      value: 0,\n      currentlyUsedIn: 0,\n      currentlyUsedOut: 0\n    };\n  });\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    var _loop = function () {\n      var _step$value = _slicedToArray(_step.value, 2);\n\n      var name = _step$value[0];\n      var val = _step$value[1];\n\n      var valsIn = (0, _ops.sumBy)(links_.filter(function (x) {\n        return x.end === name;\n      }), function (x) {\n        return x.weight;\n      });\n      var valsOut = (0, _ops.sumBy)(links_.filter(function (x) {\n        return x.start === name;\n      }), function (x) {\n        return x.weight;\n      });\n      val.value = Math.max(valsIn, valsOut);\n    };\n\n    for (var _iterator = (0, _ops.pairs)(nameValues)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      _loop();\n    }\n\n    // Find a suitable scale: it should take care of the maximum height\n    // of stacked rectangles and gutters between them.\n    // I did as follows: take the initial height and, for each group of\n    // rectangles, compute how much space you have available, that is,\n    // height - gutters; there are lengthOfGroup - 1 gutters.\n    // Consider the ratios spaceForEachGroup / heightOfStackedRectangles\n    // and take the minimum. Use this as scale factor.\n\n    // Compute height of staked rectangles in a group\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var heightOfGroups = nodes_.map(function (group) {\n    return (0, _ops.sumBy)(group, function (name) {\n      return nameValues[name].value;\n    });\n  });\n\n  // Compute the available height for each group (height - gutters)\n  var spaceForEachGroup = nodes_.map(function (group) {\n    return height - (group.length - 1) * gutter;\n  });\n\n  // Compute minimum ratio\n  var scale = (0, _ops.min)(heightOfGroups.map(function (heightOfGroup, idx) {\n    return spaceForEachGroup[idx] / heightOfGroup;\n  }));\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = (0, _ops.pairs)(nameValues)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var _step2$value = _slicedToArray(_step2.value, 2);\n\n      var _name = _step2$value[0];\n      var val = _step2$value[1];\n\n      val.scaledValue = scale * val.value;\n    }\n\n    // Fill rectangles information: each rectangle\n    // is stack on the previous one, with a gutter\n    // The group of rectangles is centered in their own column\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n        _iterator2['return']();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  var rectangles = [];\n  var nodeIdx = -1;\n\n  nodes_.forEach(function (group, idg) {\n    var hGroup = (0, _ops.sumBy)(group, function (y) {\n      return nameValues[y].scaledValue;\n    }) + (group.length - 1) * gutter;\n    var firstTop = (height - hGroup) / 2;\n    // Fake previous bottom\n    var previousBottom = firstTop - gutter;\n    group.forEach(function (name, idn) {\n      var top = previousBottom + gutter;\n      var bottom = top + nameValues[name].scaledValue;\n      previousBottom = bottom;\n      var att = {\n        top: top,\n        bottom: bottom,\n        left: rectWidth / 2 + idg * spacingGroups - rectWidth / 2,\n        right: rectWidth / 2 + idg * spacingGroups + rectWidth / 2\n      };\n      nameValues[name].rectangleCoords = att;\n      nodeIdx += 1;\n      rectangles.push((0, _ops.enhance)(compute, {\n        curve: (0, _rectangle2['default'])(att),\n        item: data.nodes[idg][idn],\n        index: nodeIdx,\n        group: idg\n      }));\n    });\n  });\n\n  var curvedRectangles = links_.map(function (link, i) {\n    var s = nameValues[link.start];\n    var t = nameValues[link.end];\n    var rectSource = s.rectangleCoords;\n    var rectTarget = t.rectangleCoords;\n    var scaledWeight = link.weight * scale;\n    var a = rectSource.top + s.currentlyUsedOut;\n    var b = rectTarget.top + t.currentlyUsedIn;\n    var curvedRect = {\n      topleft: [rectSource.right, a],\n      topright: [rectTarget.left, b],\n      bottomleft: [rectSource.right, a + scaledWeight],\n      bottomright: [rectTarget.left, b + scaledWeight]\n    };\n    s.currentlyUsedOut += scaledWeight;\n    t.currentlyUsedIn += scaledWeight;\n\n    return (0, _ops.enhance)(compute, {\n      curve: (0, _curvedRectangle2['default'])(curvedRect),\n      item: data.links[i],\n      index: i\n    });\n  });\n\n  return {\n    curvedRectangles: curvedRectangles,\n    rectangles: rectangles\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nvar _path = require('./path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var _Path$moveto$arc$lineto, _Path$moveto$arc, _Path$moveto, _Path;\n\n  var center = _ref.center;\n  var r = _ref.r;\n  var R = _ref.R;\n  var start = _ref.start;\n  var end = _ref.end;\n\n  var a = (0, _ops.plus)(center, (0, _ops.onCircle)(R, start));\n  var b = (0, _ops.plus)(center, (0, _ops.onCircle)(R, end));\n  var c = (0, _ops.plus)(center, (0, _ops.onCircle)(r, end));\n  var d = (0, _ops.plus)(center, (0, _ops.onCircle)(r, start));\n\n  var large = end - start > Math.PI ? 1 : 0;\n\n  var path = (_Path$moveto$arc$lineto = (_Path$moveto$arc = (_Path$moveto = (_Path = (0, _path2['default'])()).moveto.apply(_Path, _toConsumableArray(a))).arc.apply(_Path$moveto, [R, R, 0, large, 1].concat(_toConsumableArray(b)))).lineto.apply(_Path$moveto$arc, _toConsumableArray(c))).arc.apply(_Path$moveto$arc$lineto, [r, r, 0, large, 0].concat(_toConsumableArray(d))).closepath();\n\n  var midAngle = (start + end) / 2;\n  var midRadius = (r + R) / 2;\n  var centroid = (0, _ops.plus)(center, (0, _ops.onCircle)(midRadius, midAngle));\n\n  return {\n    path: path,\n    centroid: centroid\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _polygon = require('./polygon');\n\nvar _polygon2 = _interopRequireDefault(_polygon);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var center = _ref.center;\n  var radii = _ref.radii;\n\n  var angle = 2 * Math.PI / radii.length;\n  var points = radii.map(function (r, i) {\n    return (0, _ops.plus)(center, (0, _ops.onCircle)(r, i * angle));\n  });\n\n  return (0, _polygon2['default'])({\n    points: points,\n    closed: true\n  });\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nvar _bezier = require('./bezier');\n\nvar _bezier2 = _interopRequireDefault(_bezier);\n\nvar _lineChartComp = require('./line-chart-comp');\n\nvar _lineChartComp2 = _interopRequireDefault(_lineChartComp);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (options) {\n  var _comp = (0, _lineChartComp2['default'])(options);\n\n  var arranged = _comp.arranged;\n  var scale = _comp.scale;\n  var xscale = _comp.xscale;\n  var yscale = _comp.yscale;\n  var base = _comp.base;\n\n  var i = -1;\n\n  var lines = arranged.map(function (_ref) {\n    var _line$path$lineto, _line$path;\n\n    var points = _ref.points;\n    var xmin = _ref.xmin;\n    var xmax = _ref.xmax;\n\n    var scaledPoints = points.map(scale);\n    i += 1;\n    var line = (0, _bezier2['default'])({ points: scaledPoints });\n    var area = {\n      path: (_line$path$lineto = (_line$path = line.path).lineto.apply(_line$path, _toConsumableArray(scale([xmax, base])))).lineto.apply(_line$path$lineto, _toConsumableArray(scale([xmin, base]))).closepath(),\n      centroid: (0, _ops.average)([line.centroid, scale([xmin, base]), scale([xmax, base])])\n    };\n\n    return (0, _ops.enhance)(options.compute, {\n      item: options.data[i],\n      line: line,\n      area: area,\n      index: i\n    });\n  });\n\n  return {\n    curves: lines,\n    xscale: xscale,\n    yscale: yscale\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _linear = require('./linear');\n\nvar _linear2 = _interopRequireDefault(_linear);\n\nvar _rectangle = require('./rectangle');\n\nvar _rectangle2 = _interopRequireDefault(_rectangle);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var data = _ref.data;\n  var _ref$accessor = _ref.accessor;\n  var accessor = _ref$accessor === undefined ? _ops.id : _ref$accessor;\n  var width = _ref.width;\n  var height = _ref.height;\n  var min = _ref.min;\n  var max = _ref.max;\n  var _ref$gutter = _ref.gutter;\n  var gutter = _ref$gutter === undefined ? 10 : _ref$gutter;\n  var compute = _ref.compute;\n\n  var groups = [];\n  var minUnset = false;\n  var maxUnset = false;\n  if (min == null) {\n    min = 0;minUnset = true;\n  }\n  if (max == null) {\n    max = 0;maxUnset = true;\n  }\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = data.entries()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var _step$value = _slicedToArray(_step.value, 2);\n\n      var i = _step$value[0];\n      var d = _step$value[1];\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = d.entries()[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var _step3$value = _slicedToArray(_step3.value, 2);\n\n          var j = _step3$value[0];\n          var el = _step3$value[1];\n\n          if (groups[j] == null) {\n            groups[j] = [];\n          }\n          var last = i === 0 ? 0 : groups[j][i - 1];\n          var val = accessor(el) + last;\n          if (minUnset && val < min) {\n            min = val;\n          }\n          if (maxUnset && val > max) {\n            max = val;\n          }\n          groups[j][i] = val;\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3['return']) {\n            _iterator3['return']();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var n = data[0].length;\n  var scale = (0, _linear2['default'])([min, max], [height, 0]);\n  var barWidth = (width - (n - 1) * gutter) / n;\n  var curves = [];\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = data.entries()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var _step2$value = _slicedToArray(_step2.value, 2);\n\n      var i = _step2$value[0];\n      var d = _step2$value[1];\n      var _iteratorNormalCompletion4 = true;\n      var _didIteratorError4 = false;\n      var _iteratorError4 = undefined;\n\n      try {\n        for (var _iterator4 = d.entries()[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n          var _step4$value = _slicedToArray(_step4.value, 2);\n\n          var j = _step4$value[0];\n          var el = _step4$value[1];\n\n          var curve = {\n            line: (0, _rectangle2['default'])({\n              top: scale(groups[j][i]),\n              bottom: i === 0 ? scale(0) : scale(groups[j][i - 1]),\n              left: j * (barWidth + gutter),\n              right: j * (barWidth + gutter) + barWidth\n            }),\n            index: j,\n            group: i,\n            item: el\n          };\n          curves.push((0, _ops.enhance)(compute, curve));\n        }\n      } catch (err) {\n        _didIteratorError4 = true;\n        _iteratorError4 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion4 && _iterator4['return']) {\n            _iterator4['return']();\n          }\n        } finally {\n          if (_didIteratorError4) {\n            throw _iteratorError4;\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n        _iterator2['return']();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  return { curves: curves, scale: scale };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _polygon = require('./polygon');\n\nvar _polygon2 = _interopRequireDefault(_polygon);\n\nvar _lineChartComp = require('./line-chart-comp');\n\nvar _lineChartComp2 = _interopRequireDefault(_lineChartComp);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (options) {\n  var _comp = (0, _lineChartComp2['default'])(options);\n\n  var arranged = _comp.arranged;\n  var scale = _comp.scale;\n  var xscale = _comp.xscale;\n  var yscale = _comp.yscale;\n  var base = _comp.base;\n\n  var i = -1;\n\n  var polygons = arranged.map(function (_ref) {\n    var points = _ref.points;\n    var xmin = _ref.xmin;\n    var xmax = _ref.xmax;\n\n    var scaledPoints = points.map(scale);\n    points.push([xmax, base]);\n    points.push([xmin, base]);\n    var scaledPointsClosed = points.map(scale);\n    i += 1;\n\n    return (0, _ops.enhance)(options.compute, {\n      item: options.data[i],\n      line: (0, _polygon2['default'])({\n        points: scaledPoints,\n        closed: false\n      }),\n      area: (0, _polygon2['default'])({\n        points: scaledPointsClosed,\n        closed: true\n      }),\n      index: i\n    });\n  });\n\n  return {\n    curves: polygons,\n    xscale: xscale,\n    yscale: yscale\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _connector = require('./connector');\n\nvar _connector2 = _interopRequireDefault(_connector);\n\nvar _linear = require('./linear');\n\nvar _linear2 = _interopRequireDefault(_linear);\n\nvar _ops = require('./ops');\n\nvar _treeUtils = require('./tree-utils');\n\nexports['default'] = function (_ref) {\n  var data = _ref.data;\n  var width = _ref.width;\n  var height = _ref.height;\n  var children = _ref.children;\n  var tension = _ref.tension;\n\n  if (!children) {\n    children = function (x) {\n      return x.children;\n    };\n  }\n  var tree = (0, _treeUtils.buildTree)(data, children);\n  var levels = (0, _treeUtils.treeHeight)(tree);\n  var maxHeights = (0, _treeUtils.setHeight)(tree);\n  var hspace = width / (levels - 1);\n  var hscale = (0, _linear2['default'])([0, levels - 1], [0, width]);\n  var vscales = (0, _ops.range)(0, levels).map(function (level) {\n    var availableHeight = Math.sqrt(level / (levels - 1)) * height;\n    var top = (height - availableHeight) / 2;\n    var bottom = top + availableHeight;\n    var maxHeight = level > 0 ? maxHeights[level] + maxHeights[level - 1] : maxHeights[level];\n    if (maxHeight === 0) {\n      return function (x) {\n        return height / 2;\n      };\n    } else {\n      return (0, _linear2['default'])([0, maxHeight], [top, bottom]);\n    }\n  });\n\n  var position = function position(node) {\n    var level = node.level;\n    var vscale = vscales[level];\n    return [hscale(level), vscale(node.height_)];\n  };\n\n  var i = -1;\n  var connectors = (0, _treeUtils.collect)(tree, function (parent, child) {\n    i += 1;\n    child.height_ = child.height + parent.height;\n    return {\n      connector: (0, _connector2['default'])({\n        start: position(parent),\n        end: position(child),\n        tension: tension\n      }),\n      index: i,\n      item: {\n        start: parent.item,\n        end: child.item\n      }\n    };\n  });\n  var childNodes = (0, _treeUtils.collect)(tree, function (parent, child) {\n    return {\n      point: position(child),\n      item: child.item\n    };\n  });\n  var rootNode = {\n    point: position(tree),\n    item: tree.item\n  };\n\n  return {\n    curves: connectors,\n    nodes: [rootNode].concat(childNodes)\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nexports['default'] = Voronoi;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _polygon = require('./polygon');\n\nvar _polygon2 = _interopRequireDefault(_polygon);\n\nvar _fortune = require('./fortune');\n\nvar _fortune2 = _interopRequireDefault(_fortune);\n\nvar _linear = require('./linear');\n\nvar _linear2 = _interopRequireDefault(_linear);\n\nvar _ops = require('./ops');\n\nfunction Voronoi(_ref) {\n  var data = _ref.data;\n  var accessor = _ref.accessor;\n  var width = _ref.width;\n  var height = _ref.height;\n  var xrange = _ref.xrange;\n  var yrange = _ref.yrange;\n  var compute = _ref.compute;\n  //data, accessor, width, height, xrange, yrange, compute\n  if (typeof accessor !== 'function') {\n    accessor = function (x) {\n      return x;\n    };\n  }\n  xrange = xrange || [-1, 1];\n  yrange = yrange || [-1, 1];\n  var sites = data.map(accessor);\n  var sq = function sq(x) {\n    return x * x;\n  };\n  var xm = (xrange[0] + xrange[1]) / 2;\n  var ym = (yrange[0] + yrange[1]) / 2;\n  var diag = Math.sqrt(sq(xrange[0] - xrange[1]) + sq(yrange[0] - yrange[1]));\n  var xscale = (0, _linear2['default'])(xrange, [0, width]);\n  var yscale = (0, _linear2['default'])(yrange, [height, 0]);\n  var k = 10;\n  var closingPoints = [[k * (xrange[0] - diag), k * ym], [k * (xrange[1] + diag), k * ym], [k * xm, k * (yrange[0] - diag)], [k * xm, k * (yrange[1] + diag)]];\n  var points = closingPoints.concat(sites);\n  var fortune = new _fortune2['default'](points);\n  var patches = fortune.getPatches();\n  var nodes = [];\n  var curves = [];\n\n  sites.forEach(function (site, i) {\n    var scaledPatch = patches[site].map(function (_ref2) {\n      var _ref22 = _slicedToArray(_ref2, 2);\n\n      var x = _ref22[0];\n      var y = _ref22[1];\n      return [xscale(x), yscale(y)];\n    });\n\n    nodes.push({\n      point: [xscale(site[0]), yscale(site[1])],\n      item: data[i]\n    });\n    curves.push((0, _ops.enhance)(compute, {\n      line: (0, _polygon2['default'])({\n        points: scaledPatch,\n        closed: true\n      }),\n      index: i,\n      item: data[i]\n    }));\n  });\n\n  return { curves: curves, nodes: nodes, xscale: xscale, yscale: yscale };\n}\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _linear = require('./linear');\n\nvar _linear2 = _interopRequireDefault(_linear);\n\nvar _rectangle = require('./rectangle');\n\nvar _rectangle2 = _interopRequireDefault(_rectangle);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var data = _ref.data;\n  var accessor = _ref.accessor;\n  var width = _ref.width;\n  var height = _ref.height;\n  var _ref$gutter = _ref.gutter;\n  var gutter = _ref$gutter === undefined ? 10 : _ref$gutter;\n  var compute = _ref.compute;\n  var _ref$min = _ref.min;\n  var min = _ref$min === undefined ? 0 : _ref$min;\n  var _ref$max = _ref.max;\n  var max = _ref$max === undefined ? 0 : _ref$max;\n\n  if (!accessor) {\n    accessor = function (x) {\n      return x;\n    };\n  }\n  var last = 0;\n  var data_ = [];\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = data[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var d = _step.value;\n\n      var _accessor = accessor(d);\n\n      var value = _accessor.value;\n      var absolute = _accessor.absolute;\n\n      var _ref2 = absolute ? [0, value || last] : [last, last + value];\n\n      var _ref22 = _slicedToArray(_ref2, 2);\n\n      var low = _ref22[0];\n      var high = _ref22[1];\n\n      var m = Math.min(low, high);\n      var M = Math.max(low, high);\n      min = Math.min(min, m);\n      max = Math.max(max, M);\n      last = high;\n\n      data_.push({\n        item: d,\n        low: low,\n        high: high,\n        value: value != null ? value : high\n      });\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var n = data_.length;\n  var barWidth = (width - gutter * (n - 1)) / n;\n  var curves = [];\n  var scale = (0, _linear2['default'])([min, max], [height, 0]);\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = data_.entries()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var _step2$value = _slicedToArray(_step2.value, 2);\n\n      var i = _step2$value[0];\n      var d = _step2$value[1];\n\n      var left = i * (barWidth + gutter);\n      var right = left + barWidth;\n      var bottom = scale(d.low);\n      var _top = scale(d.high);\n      var line = (0, _rectangle2['default'])({ left: left, right: right, bottom: bottom, top: _top });\n      curves.push((0, _ops.enhance)(compute, {\n        item: d.item,\n        line: line,\n        value: d.value,\n        index: i\n      }));\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n        _iterator2['return']();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  return {\n    curves: curves,\n    scale: scale\n  };\n};\n\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; })();\n\nvar sum = function sum(xs) {\n  return xs.reduce(function (a, b) {\n    return a + b;\n  }, 0);\n};\n\nvar min = function min(xs) {\n  return xs.reduce(function (a, b) {\n    return Math.min(a, b);\n  });\n};\n\nvar max = function max(xs) {\n  return xs.reduce(function (a, b) {\n    return Math.max(a, b);\n  });\n};\n\nvar sumBy = function sumBy(xs, f) {\n  return xs.reduce(function (a, b) {\n    return a + f(b);\n  }, 0);\n};\n\nvar minBy = function minBy(xs, f) {\n  return xs.reduce(function (a, b) {\n    return Math.min(a, f(b));\n  }, Infinity);\n};\n\nvar maxBy = function maxBy(xs, f) {\n  return xs.reduce(function (a, b) {\n    return Math.max(a, f(b));\n  }, -Infinity);\n};\n\nvar plus = function plus(_ref, _ref3) {\n  var _ref2 = _slicedToArray(_ref, 2);\n\n  var a = _ref2[0];\n  var b = _ref2[1];\n\n  var _ref32 = _slicedToArray(_ref3, 2);\n\n  var c = _ref32[0];\n  var d = _ref32[1];\n  return [a + c, b + d];\n};\n\nvar minus = function minus(_ref4, _ref5) {\n  var _ref42 = _slicedToArray(_ref4, 2);\n\n  var a = _ref42[0];\n  var b = _ref42[1];\n\n  var _ref52 = _slicedToArray(_ref5, 2);\n\n  var c = _ref52[0];\n  var d = _ref52[1];\n  return [a - c, b - d];\n};\n\nvar times = function times(k, _ref6) {\n  var _ref62 = _slicedToArray(_ref6, 2);\n\n  var a = _ref62[0];\n  var b = _ref62[1];\n  return [k * a, k * b];\n};\n\nvar length = function length(_ref7) {\n  var _ref72 = _slicedToArray(_ref7, 2);\n\n  var a = _ref72[0];\n  var b = _ref72[1];\n  return Math.sqrt(a * a + b * b);\n};\n\nvar sumVectors = function sumVectors(xs) {\n  return xs.reduce(plus, [0, 0]);\n};\n\nvar average = function average(points) {\n  return times(1 / points.length, points.reduce(plus));\n};\n\nvar onCircle = function onCircle(r, angle) {\n  return times(r, [Math.sin(angle), -Math.cos(angle)]);\n};\n\nvar enhance = function enhance(compute, curve) {\n  var obj = compute || {};\n  for (var key in obj) {\n    var method = obj[key];\n    curve[key] = method(curve.index, curve.item, curve.group);\n  }\n  return curve;\n};\n\nvar range = function range(a, b, inclusive) {\n  var result = [];\n  for (var i = a; i < b; i++) {\n    result.push(i);\n  }\n  if (inclusive) {\n    result.push(b);\n  }\n  return result;\n};\n\nvar mapObject = function mapObject(obj, f) {\n  var result = [];\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = Object.keys(obj)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var k = _step.value;\n\n      var v = obj[k];\n      result.push(f(k, v));\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator[\"return\"]) {\n        _iterator[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return result;\n};\n\nvar pairs = function pairs(obj) {\n  return mapObject(obj, function (k, v) {\n    return [k, v];\n  });\n};\n\nvar id = function id(x) {\n  return x;\n};\n\nexports.sum = sum;\nexports.min = min;\nexports.max = max;\nexports.sumBy = sumBy;\nexports.minBy = minBy;\nexports.maxBy = maxBy;\nexports.plus = plus;\nexports.minus = minus;\nexports.times = times;\nexports.id = id;\nexports.length = length;\nexports.sumVectors = sumVectors;\nexports.average = average;\nexports.onCircle = onCircle;\nexports.enhance = enhance;\nexports.range = range;\nexports.mapObject = mapObject;\nexports.pairs = pairs;\nexports[\"default\"] = { sum: sum, min: min, max: max, sumBy: sumBy, minBy: minBy, maxBy: maxBy, plus: plus, minus: minus, times: times, id: id,\n  length: length, sumVectors: sumVectors, average: average, onCircle: onCircle, enhance: enhance, range: range, mapObject: mapObject, pairs: pairs };","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar _ops = require('./ops');\n\nvar average = function average(body1, body2) {\n  var mass = body1.mass + body2.mass;\n  var point = (0, _ops.times)(1 / mass, (0, _ops.plus)((0, _ops.times)(body1.mass, body1.point), (0, _ops.times)(body2.mass, body2.point)));\n  return [point, mass];\n};\n\nvar locate = function locate(_ref, quadrants) {\n  var _ref2 = _slicedToArray(_ref, 2);\n\n  var x = _ref2[0];\n  var y = _ref2[1];\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = quadrants[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var q = _step.value;\n      var _q$box = q.box;\n      var _top = _q$box.top;\n      var bottom = _q$box.bottom;\n      var left = _q$box.left;\n      var right = _q$box.right;\n\n      if (left <= x && x <= right && bottom <= y && y <= _top) {\n        return q;\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n};\n\nvar makeQuadrant = function makeQuadrant(_ref3, _ref4) {\n  var top = _ref3.top;\n  var bottom = _ref3.bottom;\n  var left = _ref3.left;\n  var right = _ref3.right;\n\n  var _ref42 = _slicedToArray(_ref4, 2);\n\n  var a = _ref42[0];\n  var b = _ref42[1];\n\n  var halfwayV = (left + right) / 2;\n  var halfwayH = (top + bottom) / 2;\n\n  return {\n    box: {\n      top: b ? halfwayH : top,\n      bottom: b ? bottom : halfwayH,\n      left: a ? halfwayV : left,\n      right: a ? right : halfwayV\n    }\n  };\n};\n\nvar subdivide = function subdivide(_ref5) {\n  var box = _ref5.box;\n  return [makeQuadrant(box, [0, 0]), makeQuadrant(box, [1, 0]), makeQuadrant(box, [0, 1]), makeQuadrant(box, [1, 1])];\n};\n\nvar addBody = function addBody(root, body) {\n  if (root.body) {\n    var oldBody = root.body;\n    delete root.body;\n    root.children = subdivide(root);\n    addBody(root, oldBody);\n    addBody(root, body);\n  } else {\n    if (root.children) {\n      var child = locate(body.point, root.children);\n\n      var _ref6 = root.point ? average(root, body) : [body.point, body.mass];\n\n      var _ref62 = _slicedToArray(_ref6, 2);\n\n      var p = _ref62[0];\n      var m = _ref62[1];\n\n      root.point = p;\n      root.mass = m;\n      addBody(child, body);\n    } else {\n      root.body = body;\n    }\n  }\n};\n\nvar makeTree = function makeTree(_x, _x2) {\n  var _again = true;\n\n  _function: while (_again) {\n    var bodies = _x,\n        root = _x2;\n    _again = false;\n\n    if (bodies.length === 0) {\n      return root;\n    } else {\n      var body = bodies.shift();\n      addBody(root, body);\n      _x = bodies;\n      _x2 = root;\n      _again = true;\n      body = undefined;\n      continue _function;\n    }\n  }\n};\n\nvar makeBodies = function makeBodies(positions) {\n  return (0, _ops.mapObject)(positions, function (id, position) {\n    return { id: id, point: position, mass: 1 };\n  });\n};\n\nvar makeRoot = function makeRoot(width, height) {\n  return {\n    box: {\n      top: height,\n      bottom: 0,\n      left: 0,\n      right: width\n    }\n  };\n};\n\nvar walkLeaves = function walkLeaves(tree, f) {\n  if (tree.body) {\n    f(tree);\n  } else {\n    if (tree.children) {\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = tree.children[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var child = _step2.value;\n\n          walkLeaves(child, f);\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n            _iterator2['return']();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n    }\n  }\n};\n\nvar bodyForceOn = function bodyForceOn(b1, b2, repulsion) {\n  var segment = (0, _ops.minus)(b1.point, b2.point);\n  var d = (0, _ops.length)(segment);\n  return (0, _ops.times)(repulsion * b1.mass * b2.mass / (d * d * d), segment);\n};\n\nvar boxWidth = function boxWidth(_ref7) {\n  var top = _ref7.top;\n  var bottom = _ref7.bottom;\n  var left = _ref7.left;\n  var right = _ref7.right;\n  return (0, _ops.length)([top - bottom, right - left]);\n};\n\nvar forceOn = function forceOn(leaf, tree, repulsion, threshold) {\n  if (tree === leaf) {\n    return [0, 0];\n  } else if (tree.body) {\n    return bodyForceOn(leaf.body, tree.body, repulsion);\n  } else if (tree.point) {\n    var s = boxWidth(tree.box);\n    var d = (0, _ops.length)((0, _ops.minus)(leaf.body.point, tree.point));\n\n    if (s / d < threshold) {\n      return bodyForceOn(leaf.body, tree, repulsion);\n    } else return (0, _ops.sumVectors)(tree.children.map(function (c) {\n      return forceOn(leaf, c, repulsion, threshold);\n    }));\n  } else return [0, 0];\n};\n\nvar repulsiveForces = function repulsiveForces(tree, repulsion, threshold) {\n  var forces = {};\n  walkLeaves(tree, function (leaf) {\n    forces[leaf.body.id] = forceOn(leaf, tree, repulsion, threshold);\n  });\n  return forces;\n};\n\nexports.tree = makeTree;\nexports.bodies = makeBodies;\nexports.root = makeRoot;\nexports.forces = repulsiveForces;\nexports['default'] = {\n  tree: makeTree,\n  bodies: makeBodies,\n  root: makeRoot,\n  forces: repulsiveForces\n};","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _linear = require('./linear');\n\nvar _linear2 = _interopRequireDefault(_linear);\n\nvar _ops = require('./ops');\n\nvar epsilon = 1e-5;\n\nvar box = function box(datum, accessor, sort) {\n  var points = datum.map(accessor);\n  var sorted = sort ? points.sort(function (_ref, _ref3) {\n    var _ref2 = _slicedToArray(_ref, 2);\n\n    var a = _ref2[0];\n    var b = _ref2[1];\n\n    var _ref32 = _slicedToArray(_ref3, 2);\n\n    var c = _ref32[0];\n    var d = _ref32[1];\n    return a - c;\n  }) : points;\n  var l = sorted.length;\n  var xmin = sorted[0][0];\n  var xmax = sorted[l - 1][0];\n  var ymin = (0, _ops.minBy)(sorted, function (p) {\n    return p[1];\n  });\n  var ymax = (0, _ops.maxBy)(sorted, function (p) {\n    return p[1];\n  });\n  if (xmin == xmax) {\n    xmax += epsilon;\n  }\n  if (ymin == ymax) {\n    ymax += epsilon;\n  }\n\n  return {\n    points: sorted,\n    xmin: xmin,\n    xmax: xmax,\n    ymin: ymin,\n    ymax: ymax\n  };\n};\n\nexports['default'] = function (_ref4) {\n  var data = _ref4.data;\n  var xaccessor = _ref4.xaccessor;\n  var yaccessor = _ref4.yaccessor;\n  var width = _ref4.width;\n  var height = _ref4.height;\n  var closed = _ref4.closed;\n  var min = _ref4.min;\n  var max = _ref4.max;\n  var _ref4$sort = _ref4.sort;\n  var sort = _ref4$sort === undefined ? true : _ref4$sort;\n\n  if (!xaccessor) {\n    xaccessor = function (_ref5) {\n      var _ref52 = _slicedToArray(_ref5, 2);\n\n      var x = _ref52[0];\n      var y = _ref52[1];\n      return x;\n    };\n  }\n  if (!yaccessor) {\n    yaccessor = function (_ref6) {\n      var _ref62 = _slicedToArray(_ref6, 2);\n\n      var x = _ref62[0];\n      var y = _ref62[1];\n      return y;\n    };\n  }\n  var f = function f(i) {\n    return [xaccessor(i), yaccessor(i)];\n  };\n  var arranged = data.map(function (datum) {\n    return box(datum, f, sort);\n  });\n\n  var xmin = (0, _ops.minBy)(arranged, function (d) {\n    return d.xmin;\n  });\n  var xmax = (0, _ops.maxBy)(arranged, function (d) {\n    return d.xmax;\n  });\n  var ymin = min == null ? (0, _ops.minBy)(arranged, function (d) {\n    return d.ymin;\n  }) : min;\n  var ymax = max == null ? (0, _ops.maxBy)(arranged, function (d) {\n    return d.ymax;\n  }) : max;\n  if (closed) {\n    ymin = Math.min(ymin, 0);\n    ymax = Math.max(ymax, 0);\n  }\n  var base = closed ? 0 : ymin;\n  var xscale = (0, _linear2['default'])([xmin, xmax], [0, width]);\n  var yscale = (0, _linear2['default'])([ymin, ymax], [height, 0]);\n  var scale = function scale(_ref7) {\n    var _ref72 = _slicedToArray(_ref7, 2);\n\n    var x = _ref72[0];\n    var y = _ref72[1];\n    return [xscale(x), yscale(y)];\n  };\n\n  return {\n    arranged: arranged,\n    scale: scale,\n    xscale: xscale,\n    yscale: yscale,\n    base: base\n  };\n};\n\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar maxBy = function maxBy(items, f) {\n  if (items === undefined) items = [];\n\n  return items.reduce(function (m, i) {\n    return Math.max(m, f(i));\n  }, 0);\n};\n\nvar treeHeight = function treeHeight(root) {\n  return 1 + maxBy(root.children, treeHeight);\n};\n\nvar buildTree = function buildTree(data, children) {\n  var level = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];\n\n  var result = {\n    item: data,\n    level: level\n  };\n  var cs = children(data);\n  if (cs && cs.length) {\n    result.children = cs.map(function (c) {\n      return buildTree(c, children, level + 1);\n    });\n  }\n  return result;\n};\n\nvar setHeight = function setHeight(root) {\n  var level = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n  var maxHeights = arguments.length <= 2 || arguments[2] === undefined ? [] : arguments[2];\n\n  if (maxHeights[level] != null) {\n    root.height = maxHeights[level] + 1;\n    maxHeights[level] += 1;\n  } else {\n    maxHeights[level] = 0;\n    root.height = 0;\n  }\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = (root.children || [])[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var child = _step.value;\n\n      setHeight(child, level + 1, maxHeights);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator[\"return\"]) {\n        _iterator[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return maxHeights;\n};\n\n// f is a function of (parent, child)\nvar collect = function collect(root, f) {\n  var result = [];\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = (root.children || [])[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var child = _step2.value;\n\n      result.push(f(root, child));\n      result = result.concat(collect(child, f));\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2[\"return\"]) {\n        _iterator2[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  return result;\n};\n\nexports.treeHeight = treeHeight;\nexports.buildTree = buildTree;\nexports.setHeight = setHeight;\nexports.collect = collect;","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n\tvalue: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _beachline = require('./beachline');\n\nvar _beachline2 = _interopRequireDefault(_beachline);\n\nvar _geom = require('./geom');\n\nvar _geom2 = _interopRequireDefault(_geom);\n\nvar _event = require('./event');\n\nvar _event2 = _interopRequireDefault(_event);\n\nfunction Fortune(sites) {\n\tthis.sites = sites;\n\tthis.events = [];\n\tthis.beach = new _beachline2['default']();\n\tthis.edges = [];\n\tthis.patches = Object.create(null);\n\tthis.iterations = 0;\n\tsites.forEach(function (site) {\n\t\tthis.patches[site] = [];\n\t\tnew _event2['default'](site).add(this.events);\n\t}, this);\n}\n\nFortune.prototype.addCircleEvent = function (arcNode, sweepY, approx) {\n\tif (arcNode === undefined) arcNode = 1e-10;\n\n\tvar lNodes = arcNode.getLLeafAndLParent();\n\tvar lArcNode = lNodes[0];\n\tvar lEdgeNode = lNodes[1];\n\tvar rNodes = arcNode.getRLeafAndRParent();\n\tvar rArcNode = rNodes[0];\n\tvar rEdgeNode = rNodes[1];\n\n\tif (lArcNode === undefined || rArcNode === undefined || lArcNode.item[0] === rArcNode.item[0] && lArcNode.item[1] === rArcNode.item[1] || !_geom2['default'].doHalflinesCross(lEdgeNode.item, rEdgeNode.item)) {\n\t\treturn;\n\t}\n\n\tvar vertexCoord = _geom2['default'].circumCenter(lArcNode.item, arcNode.item, rArcNode.item);\n\n\tif (vertexCoord[1] == Infinity) {\n\t\treturn;\n\t}\n\n\tvar eventCoord = [vertexCoord[0], vertexCoord[1] + _geom2['default'].distPointToPoint(arcNode.item, vertexCoord)];\n\n\tif (eventCoord[1] < sweepY - approx) {\n\t\treturn;\n\t}\n\n\tarcNode.cEvent = new _event2['default']([lArcNode, lEdgeNode, arcNode, rEdgeNode, rArcNode], eventCoord, vertexCoord);\n\tarcNode.cEvent.add(this.events);\n};\n\nFortune.prototype.rmCircleEvent = function (arcNode) {\n\tif (arcNode.cEvent !== undefined) {\n\t\tarcNode.cEvent.rm(this.events);\n\t\tarcNode.cEvent = undefined;\n\t}\n};\n\nFortune.prototype.manageSiteEvent = function () {\n\tvar event = this.events.splice(0, 1)[0];\n\tvar crossedArcNode = this.beach.getArcNodeOnSite(event.coord);\n\tvar lArcNode = crossedArcNode.getLLeafAndLParent()[0];\n\tvar rArcNode = crossedArcNode.getRLeafAndRParent()[0];\n\n\tthis.rmCircleEvent(crossedArcNode);\n\tthis.beach.addArc(event.coord, [lArcNode, crossedArcNode, rArcNode]);\n\tthis.addCircleEvent(crossedArcNode.l, event.coord[1]);\n\tthis.addCircleEvent(crossedArcNode.r.r, event.coord[1]);\n};\n\nFortune.prototype.manageCircleEvent = function () {\n\tvar event = this.events.splice(0, 1)[0];\n\tvar deadEdgeA = event.edgesNodes[0].item;\n\tvar deadEdgeB = event.edgesNodes[1].item;\n\n\tdeadEdgeA.pe = event.vertexCoord;\n\tdeadEdgeB.pe = event.vertexCoord;\n\n\tthis.edges.push(deadEdgeA);\n\tthis.edges.push(deadEdgeB);\n\tthis.beach.rmArc(event.vertexCoord, event.arcsNodes, event.edgesNodes);\n\tthis.rmCircleEvent(event.arcsNodes[0]);\n\tthis.rmCircleEvent(event.arcsNodes[2]);\n\tthis.addCircleEvent(event.arcsNodes[0], event.coord[1]);\n\tthis.addCircleEvent(event.arcsNodes[2], event.coord[1]);\n};\n\nFortune.prototype.getPoints = function () {\n\treturn this.sites;\n};\n\nFortune.prototype.getEdges = function () {\n\tthis.beach.item = this.events.splice(0, 1)[0].coord;\n\tthis.iterations += 1;\n\n\twhile (this.events.length > 0) {\n\t\tif (this.events[0].arcsNodes) {\n\t\t\tthis.manageCircleEvent();\n\t\t} else {\n\t\t\tthis.manageSiteEvent();\n\t\t}\n\t\tthis.iterations += 1;\n\t}\n\treturn this.edges;\n};\n\nFortune.prototype.getPatches = function (width, height, pointSize, pointsColor, edgesColor) {\n\tfunction isIn(point, array) {\n\t\tfor (var i = 0; i < array.length; i++) {\n\t\t\tif (array[i][0] === point[0] && array[i][1] === point[1]) return true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction insertByAtan(c, v, vs) {\n\t\tfor (var i = 0; i < vs.length; i++) {\n\t\t\tif (Math.atan2(v[1] - c[1], v[0] - c[0]) < Math.atan2(vs[i][1] - c[1], vs[i][0] - c[0])) {\n\t\t\t\tvs.splice(i, 0, v);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tvs.push(v);\n\t}\n\n\tfunction assignEdgeBounds(edge) {\n\t\tif (!isIn(edge.ps, this.patches[edge.pl])) insertByAtan(edge.pl, edge.ps, this.patches[edge.pl]);\n\t\tif (!isIn(edge.ps, this.patches[edge.pr])) insertByAtan(edge.pr, edge.ps, this.patches[edge.pr]);\n\t\tif (!isIn(edge.pe, this.patches[edge.pl])) insertByAtan(edge.pl, edge.pe, this.patches[edge.pl]);\n\t\tif (!isIn(edge.pe, this.patches[edge.pr])) insertByAtan(edge.pr, edge.pe, this.patches[edge.pr]);\n\t}\n\n\tthis.getEdges().forEach(assignEdgeBounds, this);\n\treturn this.patches;\n};\n\nexports['default'] = Fortune;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _binarytree = require('./binarytree');\n\nvar _binarytree2 = _interopRequireDefault(_binarytree);\n\nvar _segment = require('./segment');\n\nvar _segment2 = _interopRequireDefault(_segment);\n\nvar _geom = require('./geom');\n\nvar _geom2 = _interopRequireDefault(_geom);\n\nfunction Beachline(item, parent, l, r, cEvent) {\n  _binarytree2['default'].call(this, item, parent, l, r);\n  this.cEvent = cEvent;\n}\n\nBeachline.prototype = Object.create(_binarytree2['default'].prototype);\n\nBeachline.prototype.isLeaf = function () {\n  return this.l === undefined;\n};\n\nBeachline.prototype.getArcNodeOnSite = function (site) {\n  var curNode = this;\n  var solN = undefined;\n\n  while (!curNode.isLeaf()) {\n    curNode.item.pl[1] < curNode.item.pr[1] ? solN = 0 : solN = 1;\n    curNode = site[0] < _geom2['default'].parabolsCrossX(curNode.item.pl, curNode.item.pr, site[1])[solN] ? curNode.l : curNode.r;\n  }\n  return curNode;\n};\n\nBeachline.prototype.addArc = function (newArcSite, arcsNodes) {\n  var lArcNode = arcsNodes[0];\n  var crossedArcNode = arcsNodes[1];\n  var rArcNode = arcsNodes[2];\n  var crossedArcSite = crossedArcNode.item;\n  var crossPoint = [newArcSite[0], newArcSite[1] - _geom2['default'].distPointToParabol(newArcSite, crossedArcSite)];\n  var newLHalfedge = new _segment2['default'](crossedArcSite, newArcSite, crossPoint);\n  var newRHalfedge = new _segment2['default'](newArcSite, crossedArcSite, crossPoint);\n\n  crossedArcNode.item = newLHalfedge;\n  crossedArcNode.addLChild(new Beachline(crossedArcSite));\n  crossedArcNode.addRChild(new Beachline(newRHalfedge));\n  crossedArcNode.r.addLChild(new Beachline(newArcSite));\n  crossedArcNode.r.addRChild(new Beachline(crossedArcSite));\n\n  if (lArcNode != undefined && lArcNode.cEvent != undefined) {\n    lArcNode.cEvent.arcsNodes[2] = crossedArcNode.l;\n  }\n  if (rArcNode != undefined && rArcNode.cEvent != undefined) {\n    rArcNode.cEvent.arcsNodes[0] = crossedArcNode.r.r;\n  }\n};\n\nBeachline.prototype.rmArc = function (newEdgeStart, arcsNodes, edgesNodes) {\n  var liveLArcNode = arcsNodes[0];\n  var deadArcNode = arcsNodes[1];\n  var liveRArcNode = arcsNodes[2];\n\n  if (deadArcNode.isRChild()) {\n    var liveCutBranch = edgesNodes[0].l;\n    var midEdgeNode = edgesNodes[0];\n    var topEdgeNode = edgesNodes[1];\n  } else {\n    var liveCutBranch = edgesNodes[1].r;\n    var midEdgeNode = edgesNodes[1];\n    var topEdgeNode = edgesNodes[0];\n  }\n\n  topEdgeNode.item = new _segment2['default'](liveLArcNode.item, liveRArcNode.item, newEdgeStart);\n\n  if (midEdgeNode.isRChild()) {\n    midEdgeNode.parent.r = liveCutBranch;\n  } else {\n    midEdgeNode.parent.l = liveCutBranch;\n  }\n  liveCutBranch.parent = midEdgeNode.parent;\n};\n\nexports['default'] = Beachline;\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar _geom = require(\"./geom\");\n\nvar _geom2 = _interopRequireDefault(_geom);\n\nfunction Event(arcSiteOrNodes, eventCoord, vertexCoord) {\n  if (arcSiteOrNodes.length == 2) {\n    this.coord = arcSiteOrNodes;\n  } else {\n    this.arcsNodes = [arcSiteOrNodes[0], arcSiteOrNodes[2], arcSiteOrNodes[4]];\n    this.edgesNodes = [arcSiteOrNodes[1], arcSiteOrNodes[3]];\n    this.vertexCoord = vertexCoord;\n    this.coord = eventCoord;\n  }\n\n  Event.prototype.goToEventIndex = function (es, approx) {\n    approx = approx || 1e-10;\n    var i = 0;\n    while (i < es.length && this.coord[1] > es[i].coord[1] + approx) i++;\n    return i;\n  };\n\n  Event.prototype.add = function (es) {\n    es.splice(this.goToEventIndex(es), 0, this);\n  };\n\n  Event.prototype.rm = function (es) {\n    var i = this.goToEventIndex(es);\n    while (i < es.length) {\n      if (i == es.length - 1 || this.coord[1] != es[i + 1].coord[1] || this.arcsNodes == es[i].arcsNodes && this.coord[0] === es[i].coord[0] && this.coord[1] === es[i].coord[1]) return es.splice(i, 1);\n      i++;\n    };\n    console.log(\"Event does not exist in list\");\n  };\n\n  //------------------------------------------------------------------------\n  Event.prototype.toString = function () {\n    return this.edgesNodes ? \"Circle event. Vertex: \" + this.vertexCoord + \"; coord:\" + this.coord : \"Site event. Coord:\" + this.coord;\n  };\n}\n\nexports[\"default\"] = Event;\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; })();\n\nvar sq = function sq(x) {\n  return x * x;\n};\n\nvar distPointToPoint = function distPointToPoint(_ref, _ref3) {\n  var _ref2 = _slicedToArray(_ref, 2);\n\n  var ax = _ref2[0];\n  var ay = _ref2[1];\n\n  var _ref32 = _slicedToArray(_ref3, 2);\n\n  var bx = _ref32[0];\n  var by = _ref32[1];\n  return Math.sqrt(sq(ax - bx) + sq(ay - by));\n};\n\nvar distPointToParabol = function distPointToParabol(a, f) {\n  var p = distPointToPoint(a, f);\n\n  return p == 0 ? Infinity : sq(p) / (2 * Math.abs(a[1] - f[1]));\n};\n\nvar circumCenter = function circumCenter(a, b, c) {\n  var d = (a[0] - c[0]) * (b[1] - c[1]) - (b[0] - c[0]) * (a[1] - c[1]);\n\n  if (d == 0) return [Infinity, Infinity];\n\n  var xc = (((a[0] - c[0]) * (a[0] + c[0]) + (a[1] - c[1]) * (a[1] + c[1])) / 2 * (b[1] - c[1]) - ((b[0] - c[0]) * (b[0] + c[0]) + (b[1] - c[1]) * (b[1] + c[1])) / 2 * (a[1] - c[1])) / d;\n  var yc = (((b[0] - c[0]) * (b[0] + c[0]) + (b[1] - c[1]) * (b[1] + c[1])) / 2 * (a[0] - c[0]) - ((a[0] - c[0]) * (a[0] + c[0]) + (a[1] - c[1]) * (a[1] + c[1])) / 2 * (b[0] - c[0])) / d;\n  return [xc, yc];\n};\n\nvar parabolsCrossX = function parabolsCrossX(fa, fb, q) {\n  if (fa[1] === fb[1]) return [(fa[0] + fb[0]) / 2, (fa[0] + fb[0]) / 2];\n\n  var s1 = (fa[1] * fb[0] - fa[0] * fb[1] + fa[0] * q - fb[0] * q + Math.sqrt((fa[0] * fa[0] + fa[1] * fa[1] - 2 * fa[0] * fb[0] + fb[0] * fb[0] - 2 * fa[1] * fb[1] + fb[1] * fb[1]) * (fa[1] * fb[1] - fa[1] * q - fb[1] * q + q * q))) / (fa[1] - fb[1]);\n  var s2 = (fa[1] * fb[0] - fa[0] * fb[1] + fa[0] * q - fb[0] * q - Math.sqrt((fa[0] * fa[0] + fa[1] * fa[1] - 2 * fa[0] * fb[0] + fb[0] * fb[0] - 2 * fa[1] * fb[1] + fb[1] * fb[1]) * (fa[1] * fb[1] - fa[1] * q - fb[1] * q + q * q))) / (fa[1] - fb[1]);\n\n  return s1 < s2 ? [s1, s2] : [s2, s1];\n};\n\nvar doHalflinesCross = function doHalflinesCross(sa, sb) {\n  var approx = arguments.length <= 2 || arguments[2] === undefined ? 1e-10 : arguments[2];\n  //sa, sb are Segment instance\n  var dx = sb.ps[0] - sa.ps[0];\n  var dy = sb.ps[1] - sa.ps[1];\n\n  if (sa.m == Infinity) return sa.hp * (sb.m * dx - dy) <= approx && sb.vec[0] * dx <= approx;\n  if (sb.m == Infinity) return sb.hp * (sa.m * dx - dy) >= -approx && sa.vec[0] * dx >= -approx;\n\n  var det = sb.vec[0] * sa.vec[1] - sb.vec[1] * sa.vec[0];\n\n  if (det === 0) return false;\n\n  var u = (dy * sb.vec[0] - dx * sb.vec[1]) / det;\n  var v = (dy * sa.vec[0] - dx * sa.vec[1]) / det;\n\n  return u >= -approx && v >= approx || u >= approx && v >= -approx;\n};\n\nexports[\"default\"] = { distPointToPoint: distPointToPoint, distPointToParabol: distPointToParabol, circumCenter: circumCenter,\n  parabolsCrossX: parabolsCrossX, doHalflinesCross: doHalflinesCross };\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction BinaryTree(item, parent, l, r) {\n  this.item = item;\n  this.parent = parent;\n  this.l = l;\n  this.r = r;\n}\n\nBinaryTree.prototype.isRoot = function () {\n  return this.parent === undefined;\n};\n\nBinaryTree.prototype.isLeaf = function () {\n  return this.l === undefined && this.r === undefined;\n};\n\nBinaryTree.prototype.isLChild = function () {\n  return !this.isRoot() && this.parent.l === this;\n};\n\nBinaryTree.prototype.isRChild = function () {\n  return !this.isRoot() && this.parent.r === this;\n};\n\nBinaryTree.prototype.addLChild = function (child) {\n  this.l = child;\n  child.parent = this;\n};\n\nBinaryTree.prototype.addRChild = function (child) {\n  this.r = child;\n  child.parent = this;\n};\n\nBinaryTree.prototype.getLLeafAndLParent = function (leaf) {\n  var curNode = leaf || this;\n\n  while (curNode.isLChild()) {\n    curNode = curNode.parent;\n  }\n  if (curNode.isRoot()) {\n    return [undefined, undefined];\n  }\n  var lparent = curNode.parent;\n  curNode = curNode.parent.l;\n\n  while (!curNode.isLeaf()) {\n    curNode = curNode.r;\n  }\n\n  return [curNode, lparent];\n};\n\nBinaryTree.prototype.getRLeafAndRParent = function (leaf) {\n  var curNode = leaf || this;\n\n  while (curNode.isRChild()) {\n    curNode = curNode.parent;\n  }\n  if (curNode.isRoot()) {\n    return [undefined, undefined];\n  }\n  var rparent = curNode.parent;\n  curNode = curNode.parent.r;\n\n  while (!curNode.isLeaf()) {\n    curNode = curNode.l;\n  }\n\n  return [curNode, rparent];\n};\n\nexports[\"default\"] = BinaryTree;\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction Segment(pl, pr, ps, pe) {\n  this.pl = pl; //left symmetry point\n  this.pr = pr; //right symmetry point\n  this.ps = ps; //start point\n  this.pe = pe; //end point\n  this.m = this.pl[1] === this.pr[1] ? Infinity : -(this.pl[0] - this.pr[0]) / (this.pl[1] - this.pr[1]); //m\n  this.hp = this.pl[0] < this.pr[0] || this.pl[0] === this.pr[0] && this.pl[1] > this.pr[1] ? 1 : -1; //halfplane\n  this.vec = this.hp * this.m > 0 || this.m === 0 && this.hp > 0 ? [1, this.m] : [-1, -this.m]; //direction\n}\n\nexports[\"default\"] = Segment;\nmodule.exports = exports[\"default\"];"]}