{"version":3,"sources":["node_modules/browser-pack/_prelude.js","dist/node/all.js","dist/node/bezier.js","dist/node/path.js","dist/node/polygon.js","dist/node/bar.js","dist/node/radar.js","dist/node/rectangle.js","dist/node/pie.js","dist/node/linear.js","dist/node/connector.js","dist/node/sankey.js","dist/node/sector.js","dist/node/semi-regular-polygon.js","dist/node/curved-rectangle.js","dist/node/smooth-line.js","dist/node/stock.js","dist/node/tree.js","dist/node/waterfall.js","dist/node/graph.js","dist/node/ops.js","dist/node/tree-utils.js","dist/node/line-chart-comp.js","dist/node/barnes-hut.js"],"names":["_interopRequireDefault","obj","__esModule","default","_bar","require","_bar2","_bezier","_bezier2","_connector","_connector2","_curvedRectangle","_curvedRectangle2","_graph","_graph2","_linear","_linear2","_path","_path2","_pie","_pie2","_polygon","_polygon2","_radar","_radar2","_rectangle","_rectangle2","_sankey","_sankey2","_sector","_sector2","_semiRegularPolygon","_semiRegularPolygon2","_smoothLine","_smoothLine2","_stock","_stock2","_tree","_tree2","_waterfall","_waterfall2","global","eval","Paths","Bar","Bezier","Connector","CurvedRectangle","Graph","Linear","Path","Pie","Polygon","Radar","Rectangle","Sankey","Sector","SemiRegularPolygon","SmoothLine","Stock","Tree","Waterfall","_toConsumableArray","arr","Array","isArray","i","arr2","length","from","Object","defineProperty","exports","value","_ops","reflect","p","q","minus","times","_ref","_Path","points","tension","diffs","l","push","controlPoints","plus","average","c0","c1","p0","p1","path","moveto","apply","curveto","range","reduce","pt","c","smoothcurveto","centroid","module","_slicedToArray","sliceIterator","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","err","TypeError","init","_instructions","el","copy","slice","areEqualPoints","_ref3","_ref2","a1","b1","_ref32","a2","b2","trimZeros","string","char","charAt","substr","round","number","digits","str","toFixed","printInstrunction","_ref4","command","params","numbers","map","param","join","point","_ref5","_ref6","_ref62","prevX","prevY","verbosify","keys","f","a","args","k","arguments","instruction","x","y","lineto","hlineto","vlineto","closepath","x1","y1","x2","y2","qcurveto","smoothqcurveto","arc","rx","ry","xrot","largeArcFlag","sweepFlag","print","ps","prev","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","instructions","connect","this","last","first","newInstructions","unshift","concat","closed","head","tail","data","_ref$accessor","accessor","id","width","height","min","max","_ref$gutter","gutter","compute","groups","minUnset","maxUnset","entries","_step$value","d","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_step3$value","j","val","n","groupWidth","curves","scale","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_step2$value","g","w","shift","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","_step4$value","left","right","bottom","_top","line","top","enhance","item","group","index","collectKeys","objects","object","key","indexOf","keyAccessor","o","globalMax","maxs","maxBy","center","r","_ref$rings","rings","_ref$compute","sides","Math","PI","ringPaths","radius","radii","s","polygons","polygon","R","values","sum","t","sector","start","end","linear","b","inverse","_Path$moveto$lineto$curveto","_Path$moveto","_start","_end","mid1","nodeaccessor","linkaccessor","rectWidth","links_","links","nodes_","nodes","level","spacingGroups","nameValues","forEach","name","currentlyUsedIn","currentlyUsedOut","_loop","valsIn","sumBy","filter","weight","valsOut","pairs","heightOfGroups","spaceForEachGroup","heightOfGroup","idx","scaledValue","rectangles","nodeIdx","idg","hGroup","firstTop","previousBottom","idn","att","rectangleCoords","curve","curvedRectangles","link","rectSource","rectTarget","scaledWeight","curvedRect","topleft","topright","bottomleft","bottomright","_Path$moveto$arc$lineto","_Path$moveto$arc","onCircle","large","midAngle","midRadius","angle","topCurve","bottomCurve","_lineChartComp","_lineChartComp2","options","_comp","arranged","xscale","yscale","base","lines","_line$path$lineto","_line$path","xmin","xmax","scaledPoints","area","scaledPointsClosed","_treeUtils","children","tree","buildTree","levels","treeHeight","maxHeights","setHeight","hscale","vscales","availableHeight","sqrt","maxHeight","position","node","vscale","height_","connectors","collect","parent","child","connector","childNodes","rootNode","_ref$min","_ref$max","data_","_accessor","absolute","_ref22","low","high","m","M","barWidth","_barnesHut","_barnesHut2","randomPosition","h","random","cap","bound","inside","attractiveForces","positions","attraction","forces","_links$id","pos1","pos2","force","repulsion","threshold","identity","constraints","nodesPositions","_linkaccessor","tick","bodies","root","attractions","repulsions","f1","f2","recompute","constrain","unconstrain","graph","mapObject","xs","minBy","Infinity","_ref42","_ref52","_ref7","_ref72","sumVectors","sin","cos","method","inclusive","result","v","items","cs","epsilon","box","datum","sorted","sort","ymin","ymax","xaccessor","yaccessor","body1","body2","mass","locate","quadrants","_q$box","makeQuadrant","halfwayV","halfwayH","subdivide","addBody","body","oldBody","makeTree","_x","_x2","_again","makeBodies","makeRoot","walkLeaves","bodyForceOn","segment","boxWidth","forceOn","leaf","repulsiveForces"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _bar = require('./bar');\n\nvar _bar2 = _interopRequireDefault(_bar);\n\nvar _bezier = require('./bezier');\n\nvar _bezier2 = _interopRequireDefault(_bezier);\n\nvar _connector = require('./connector');\n\nvar _connector2 = _interopRequireDefault(_connector);\n\nvar _curvedRectangle = require('./curved-rectangle');\n\nvar _curvedRectangle2 = _interopRequireDefault(_curvedRectangle);\n\nvar _graph = require('./graph');\n\nvar _graph2 = _interopRequireDefault(_graph);\n\nvar _linear = require('./linear');\n\nvar _linear2 = _interopRequireDefault(_linear);\n\nvar _path = require('./path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _pie = require('./pie');\n\nvar _pie2 = _interopRequireDefault(_pie);\n\nvar _polygon = require('./polygon');\n\nvar _polygon2 = _interopRequireDefault(_polygon);\n\nvar _radar = require('./radar');\n\nvar _radar2 = _interopRequireDefault(_radar);\n\nvar _rectangle = require('./rectangle');\n\nvar _rectangle2 = _interopRequireDefault(_rectangle);\n\nvar _sankey = require('./sankey');\n\nvar _sankey2 = _interopRequireDefault(_sankey);\n\nvar _sector = require('./sector');\n\nvar _sector2 = _interopRequireDefault(_sector);\n\nvar _semiRegularPolygon = require('./semi-regular-polygon');\n\nvar _semiRegularPolygon2 = _interopRequireDefault(_semiRegularPolygon);\n\nvar _smoothLine = require('./smooth-line');\n\nvar _smoothLine2 = _interopRequireDefault(_smoothLine);\n\nvar _stock = require('./stock');\n\nvar _stock2 = _interopRequireDefault(_stock);\n\nvar _tree = require('./tree');\n\nvar _tree2 = _interopRequireDefault(_tree);\n\nvar _waterfall = require('./waterfall');\n\nvar _waterfall2 = _interopRequireDefault(_waterfall);\n\n(function () {\n  \"use strict\";\n\n  var global = (1, eval)('this');\n\n  global.Paths = {\n    Bar: _bar2['default'],\n    Bezier: _bezier2['default'],\n    Connector: _connector2['default'],\n    CurvedRectangle: _curvedRectangle2['default'],\n    Graph: _graph2['default'],\n    Linear: _linear2['default'],\n    Path: _path2['default'],\n    Pie: _pie2['default'],\n    Polygon: _polygon2['default'],\n    Radar: _radar2['default'],\n    Rectangle: _rectangle2['default'],\n    Sankey: _sankey2['default'],\n    Sector: _sector2['default'],\n    SemiRegularPolygon: _semiRegularPolygon2['default'],\n    SmoothLine: _smoothLine2['default'],\n    Stock: _stock2['default'],\n    Tree: _tree2['default'],\n    Waterfall: _waterfall2['default']\n  };\n})();","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nvar _path = require('./path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _polygon = require('./polygon');\n\nvar _polygon2 = _interopRequireDefault(_polygon);\n\nvar _ops = require('./ops');\n\nvar reflect = function reflect(p, q) {\n  return (0, _ops.minus)((0, _ops.times)(2, p), q);\n};\n\nexports['default'] = function (_ref) {\n  var _Path;\n\n  var points = _ref.points;\n  var tension = _ref.tension;\n\n  tension = tension || 0.3;\n  var diffs = [];\n  var l = points.length;\n  if (l <= 2) {\n    return (0, _polygon2['default'])({ points: points });\n  }\n  for (var i = 1; i <= l - 1; i++) {\n    diffs.push((0, _ops.times)(tension, (0, _ops.minus)(points[i], points[i - 1])));\n  }\n  var controlPoints = [(0, _ops.plus)(points[0], reflect(diffs[0], diffs[1]))];\n  for (var i = 1; i <= l - 2; i++) {\n    controlPoints.push((0, _ops.minus)(points[i], (0, _ops.average)([diffs[i], diffs[i - 1]])));\n  }\n  controlPoints.push((0, _ops.minus)(points[l - 1], reflect(diffs[l - 2], diffs[l - 3])));\n  var c0 = controlPoints[0];\n  var c1 = controlPoints[1];\n  var p0 = points[0];\n  var p1 = points[1];\n  var path = (_Path = (0, _path2['default'])()).moveto.apply(_Path, _toConsumableArray(p0)).curveto(c0[0], c0[1], c1[0], c1[1], p1[0], p1[1]);\n\n  return {\n    path: (0, _ops.range)(2, l).reduce(function (pt, i) {\n      var c = controlPoints[i];\n      var p = points[i];\n      return pt.smoothcurveto(c[0], c[1], p[0], p[1]);\n    }, path),\n    centroid: (0, _ops.average)(points)\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar Path = function Path(init) {\n  var _instructions = init || [];\n\n  var push = function push(arr, el) {\n    var copy = arr.slice(0, arr.length);\n    copy.push(el);\n    return copy;\n  };\n\n  var areEqualPoints = function areEqualPoints(_ref, _ref3) {\n    var _ref2 = _slicedToArray(_ref, 2);\n\n    var a1 = _ref2[0];\n    var b1 = _ref2[1];\n\n    var _ref32 = _slicedToArray(_ref3, 2);\n\n    var a2 = _ref32[0];\n    var b2 = _ref32[1];\n    return a1 === a2 && b1 === b2;\n  };\n\n  var trimZeros = function trimZeros(string, char) {\n    var l = string.length;\n    while (string.charAt(l - 1) === '0') {\n      l = l - 1;\n    }\n    if (string.charAt(l - 1) === '.') {\n      l = l - 1;\n    }\n    return string.substr(0, l);\n  };\n\n  var round = function round(number, digits) {\n    var str = number.toFixed(digits);\n    return trimZeros(str);\n  };\n\n  var printInstrunction = function printInstrunction(_ref4) {\n    var command = _ref4.command;\n    var params = _ref4.params;\n\n    var numbers = params.map(function (param) {\n      return round(param, 6);\n    });\n    return command + ' ' + numbers.join(' ');\n  };\n\n  var point = function point(_ref5, _ref6) {\n    var command = _ref5.command;\n    var params = _ref5.params;\n\n    var _ref62 = _slicedToArray(_ref6, 2);\n\n    var prevX = _ref62[0];\n    var prevY = _ref62[1];\n\n    switch (command) {\n      case 'M':\n        return [params[0], params[1]];\n      case 'L':\n        return [params[0], params[1]];\n      case 'H':\n        return [params[0], prevY];\n      case 'V':\n        return [prevX, params[0]];\n      case 'Z':\n        return null;\n      case 'C':\n        return [params[4], params[5]];\n      case 'S':\n        return [params[2], params[3]];\n      case 'Q':\n        return [params[2], params[3]];\n      case 'T':\n        return [params[0], params[1]];\n      case 'A':\n        return [params[5], params[6]];\n    }\n  };\n\n  var verbosify = function verbosify(keys, f) {\n    return function (a) {\n      var args = typeof a === 'object' ? keys.map(function (k) {\n        return a[k];\n      }) : arguments;\n      return f.apply(null, args);\n    };\n  };\n\n  var plus = function plus(instruction) {\n    return Path(push(_instructions, instruction));\n  };\n\n  return {\n    moveto: verbosify(['x', 'y'], function (x, y) {\n      return plus({\n        command: 'M',\n        params: [x, y]\n      });\n    }),\n    lineto: verbosify(['x', 'y'], function (x, y) {\n      return plus({\n        command: 'L',\n        params: [x, y]\n      });\n    }),\n    hlineto: verbosify(['x'], function (x) {\n      return plus({\n        command: 'H',\n        params: [x]\n      });\n    }),\n    vlineto: verbosify(['y'], function (y) {\n      return plus({\n        command: 'V',\n        params: [y]\n      });\n    }),\n    closepath: function closepath() {\n      return plus({\n        command: 'Z',\n        params: []\n      });\n    },\n    curveto: verbosify(['x1', 'y1', 'x2', 'y2', 'x', 'y'], function (x1, y1, x2, y2, x, y) {\n      return plus({\n        command: 'C',\n        params: [x1, y1, x2, y2, x, y]\n      });\n    }),\n    smoothcurveto: verbosify(['x2', 'y2', 'x', 'y'], function (x2, y2, x, y) {\n      return plus({\n        command: 'S',\n        params: [x2, y2, x, y]\n      });\n    }),\n    qcurveto: verbosify(['x1', 'y1', 'x', 'y'], function (x1, y1, x, y) {\n      return plus({\n        command: 'Q',\n        params: [x1, y1, x, y]\n      });\n    }),\n    smoothqcurveto: verbosify(['x', 'y'], function (x, y) {\n      return plus({\n        command: 'T',\n        params: [x, y]\n      });\n    }),\n    arc: verbosify(['rx', 'ry', 'xrot', 'largeArcFlag', 'sweepFlag', 'x', 'y'], function (rx, ry, xrot, largeArcFlag, sweepFlag, x, y) {\n      return plus({\n        command: 'A',\n        params: [rx, ry, xrot, largeArcFlag, sweepFlag, x, y]\n      });\n    }),\n    print: function print() {\n      return _instructions.map(printInstrunction).join(' ');\n    },\n    points: function points() {\n      var ps = [];\n      var prev = [0, 0];\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = _instructions[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var instruction = _step.value;\n\n          var p = point(instruction, prev);\n          prev = p;\n          if (p) {\n            ps.push(p);\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator['return']) {\n            _iterator['return']();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return ps;\n    },\n    instructions: function instructions() {\n      return _instructions.slice(0, _instructions.length);\n    },\n    connect: function connect(path) {\n      var ps = this.points();\n      var last = ps[ps.length - 1];\n      var first = path.points()[0];\n      var newInstructions = path.instructions().slice(1);\n      if (!areEqualPoints(last, first)) {\n        newInstructions.unshift({\n          command: \"L\",\n          params: first\n        });\n      }\n      return Path(this.instructions().concat(newInstructions));\n    }\n  };\n};\n\nexports['default'] = function () {\n  return Path();\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nvar _path = require('./path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var _Path;\n\n  var points = _ref.points;\n  var closed = _ref.closed;\n\n  var l = points.length;\n  var head = points[0];\n  var tail = points.slice(1, l + 1);\n  var path = tail.reduce(function (pt, p) {\n    return pt.lineto.apply(pt, _toConsumableArray(p));\n  }, (_Path = (0, _path2['default'])()).moveto.apply(_Path, _toConsumableArray(head)));\n\n  return {\n    path: closed ? path.closepath() : path,\n    centroid: (0, _ops.average)(points)\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _linear = require('./linear');\n\nvar _linear2 = _interopRequireDefault(_linear);\n\nvar _rectangle = require('./rectangle');\n\nvar _rectangle2 = _interopRequireDefault(_rectangle);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var data = _ref.data;\n  var _ref$accessor = _ref.accessor;\n  var accessor = _ref$accessor === undefined ? _ops.id : _ref$accessor;\n  var width = _ref.width;\n  var height = _ref.height;\n  var min = _ref.min;\n  var max = _ref.max;\n  var _ref$gutter = _ref.gutter;\n  var gutter = _ref$gutter === undefined ? 10 : _ref$gutter;\n  var compute = _ref.compute;\n\n  var groups = [];\n  var minUnset = false;\n  var maxUnset = false;\n  if (min == null) {\n    min = 0;minUnset = true;\n  }\n  if (max == null) {\n    max = 0;maxUnset = true;\n  }\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = data.entries()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var _step$value = _slicedToArray(_step.value, 2);\n\n      var i = _step$value[0];\n      var d = _step$value[1];\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = d.entries()[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var _step3$value = _slicedToArray(_step3.value, 2);\n\n          var j = _step3$value[0];\n          var el = _step3$value[1];\n\n          var val = accessor(el);\n          if (minUnset && val < min) {\n            min = val;\n          }\n          if (maxUnset && val > max) {\n            max = val;\n          }\n          if (groups[j] == null) {\n            groups[j] = [];\n          }\n          groups[j][i] = val;\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3['return']) {\n            _iterator3['return']();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var n = groups.length;\n  var groupWidth = (width - gutter * (n - 1)) / n;\n  var curves = [];\n  var scale = (0, _linear2['default'])([min, max], [height, 0]);\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = groups.entries()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var _step2$value = _slicedToArray(_step2.value, 2);\n\n      var i = _step2$value[0];\n      var g = _step2$value[1];\n\n      var w = groupWidth / g.length;\n      var shift = (groupWidth + gutter) * i;\n      var _iteratorNormalCompletion4 = true;\n      var _didIteratorError4 = false;\n      var _iteratorError4 = undefined;\n\n      try {\n        for (var _iterator4 = g.entries()[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n          var _step4$value = _slicedToArray(_step4.value, 2);\n\n          var j = _step4$value[0];\n          var el = _step4$value[1];\n\n          var left = shift + w * j;\n          var right = left + w;\n          var bottom = scale(0);\n          var _top = scale(el);\n          var line = (0, _rectangle2['default'])({ left: left, right: right, bottom: bottom, top: _top });\n          curves.push((0, _ops.enhance)(compute, {\n            item: data[j][i],\n            line: line,\n            group: i,\n            index: j\n          }));\n        }\n      } catch (err) {\n        _didIteratorError4 = true;\n        _iteratorError4 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion4 && _iterator4['return']) {\n            _iterator4['return']();\n          }\n        } finally {\n          if (_didIteratorError4) {\n            throw _iteratorError4;\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n        _iterator2['return']();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  return { curves: curves, scale: scale };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _semiRegularPolygon = require('./semi-regular-polygon');\n\nvar _semiRegularPolygon2 = _interopRequireDefault(_semiRegularPolygon);\n\nvar _ops = require('./ops');\n\nvar collectKeys = function collectKeys(objects) {\n  var keys = [];\n  var keysets = objects.map(Object.keys);\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = objects[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var object = _step.value;\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = Object.keys(object)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var key = _step2.value;\n\n          if (keys.indexOf(key) == -1) {\n            keys.push(key);\n          }\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n            _iterator2['return']();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return keys;\n};\n\nvar keyAccessor = function keyAccessor(keys) {\n  var a = {};\n  var _iteratorNormalCompletion3 = true;\n  var _didIteratorError3 = false;\n  var _iteratorError3 = undefined;\n\n  try {\n    for (var _iterator3 = keys[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n      var key = _step3.value;\n\n      (function (k) {\n        a[k] = function (o) {\n          return o[k];\n        };\n      })(key);\n    }\n  } catch (err) {\n    _didIteratorError3 = true;\n    _iteratorError3 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion3 && _iterator3['return']) {\n        _iterator3['return']();\n      }\n    } finally {\n      if (_didIteratorError3) {\n        throw _iteratorError3;\n      }\n    }\n  }\n\n  return a;\n};\n\nvar globalMax = function globalMax(data, accessor) {\n  var keys = Object.keys(accessor);\n  var maxs = data.map(function (d) {\n    return (0, _ops.maxBy)(keys, function (k) {\n      return accessor[k](d);\n    });\n  });\n  return (0, _ops.max)(maxs);\n};\n\nexports['default'] = function (_ref) {\n  var data = _ref.data;\n  var accessor = _ref.accessor;\n  var center = _ref.center;\n  var r = _ref.r;\n  var max = _ref.max;\n  var _ref$rings = _ref.rings;\n  var rings = _ref$rings === undefined ? 3 : _ref$rings;\n  var _ref$compute = _ref.compute;\n  var compute = _ref$compute === undefined ? {} : _ref$compute;\n\n  if (!accessor) {\n    accessor = keyAccessor(collectKeys(data));\n  }\n  var keys = Object.keys(accessor);\n  var sides = keys.length;\n  var angle = 2 * Math.PI / sides;\n  var i = -1;\n  if (max == null) {\n    max = globalMax(data, accessor);\n  }\n\n  var ringPaths = (0, _ops.range)(1, rings, true).map(function (n) {\n    var radius = r * n / rings;\n    return (0, _semiRegularPolygon2['default'])({\n      center: center,\n      radii: (0, _ops.range)(0, sides).map(function (s) {\n        return radius;\n      })\n    });\n  });\n\n  var polygons = data.map(function (d) {\n    i += 1;\n\n    return (0, _ops.enhance)(compute, {\n      polygon: (0, _semiRegularPolygon2['default'])({\n        center: center,\n        radii: keys.map(function (k) {\n          return r * accessor[k](d) / max;\n        })\n      }),\n      item: d,\n      index: i\n    });\n  });\n\n  return {\n    curves: polygons,\n    rings: ringPaths\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _polygon = require('./polygon');\n\nvar _polygon2 = _interopRequireDefault(_polygon);\n\nexports['default'] = function (_ref) {\n  var left = _ref.left;\n  var right = _ref.right;\n  var top = _ref.top;\n  var bottom = _ref.bottom;\n\n  return (0, _polygon2['default'])({\n    points: [[right, top], [right, bottom], [left, bottom], [left, top]],\n    closed: true\n  });\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _linear = require('./linear');\n\nvar _linear2 = _interopRequireDefault(_linear);\n\nvar _sector = require('./sector');\n\nvar _sector2 = _interopRequireDefault(_sector);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var data = _ref.data;\n  var accessor = _ref.accessor;\n  var center = _ref.center;\n  var r = _ref.r;\n  var R = _ref.R;\n  var compute = _ref.compute;\n\n  var values = data.map(accessor);\n  var s = (0, _ops.sum)(values);\n  var scale = (0, _linear2['default'])([0, s], [0, 2 * Math.PI]);\n  var curves = [];\n  var t = 0;\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = data.entries()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var _step$value = _slicedToArray(_step.value, 2);\n\n      var i = _step$value[0];\n      var item = _step$value[1];\n\n      var value = values[i];\n      curves.push((0, _ops.enhance)(compute, {\n        item: item,\n        index: i,\n        sector: (0, _sector2['default'])({\n          center: center,\n          r: r,\n          R: R,\n          start: scale(t),\n          end: scale(t + value)\n        })\n      }));\n      t += value;\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return { curves: curves };\n};\n\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; })();\n\nvar linear = function linear(_ref, _ref3) {\n  var _ref2 = _slicedToArray(_ref, 2);\n\n  var a = _ref2[0];\n  var b = _ref2[1];\n\n  var _ref32 = _slicedToArray(_ref3, 2);\n\n  var c = _ref32[0];\n  var d = _ref32[1];\n\n  var f = function f(x) {\n    return c + (d - c) * (x - a) / (b - a);\n  };\n\n  f.inverse = function () {\n    return linear([c, d], [a, b]);\n  };\n  return f;\n};\n\nexports[\"default\"] = linear;\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nvar _path = require('./path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var _Path$moveto$lineto$curveto, _Path$moveto, _Path;\n\n  var start = _ref.start;\n  var end = _ref.end;\n  var tension = _ref.tension;\n\n  if (tension == null) {\n    tension = 0.05;\n  }\n\n  var _start = _slicedToArray(start, 2);\n\n  var a = _start[0];\n  var b = _start[1];\n\n  var _end = _slicedToArray(end, 2);\n\n  var c = _end[0];\n  var d = _end[1];\n\n  var length = (c - a) * tension;\n  var mid1 = [a + length, b];\n  var mid2 = [c - length, d];\n\n  return {\n    path: (_Path$moveto$lineto$curveto = (_Path$moveto = (_Path = (0, _path2['default'])()).moveto.apply(_Path, _toConsumableArray(start))).lineto.apply(_Path$moveto, mid1).curveto(a + 5 * length, b, c - 5 * length, d, c - length, d)).lineto.apply(_Path$moveto$lineto$curveto, _toConsumableArray(end)),\n    centroid: (0, _ops.average)([start, end])\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _rectangle = require('./rectangle');\n\nvar _rectangle2 = _interopRequireDefault(_rectangle);\n\nvar _curvedRectangle = require('./curved-rectangle');\n\nvar _curvedRectangle2 = _interopRequireDefault(_curvedRectangle);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var data = _ref.data;\n  var nodeaccessor = _ref.nodeaccessor;\n  var linkaccessor = _ref.linkaccessor;\n  var width = _ref.width;\n  var height = _ref.height;\n  var gutter = _ref.gutter;\n  var rectWidth = _ref.rectWidth;\n  var compute = _ref.compute;\n\n  var id = function id(x) {\n    return x;\n  };\n  if (!nodeaccessor) {\n    nodeaccessor = id;\n  }\n  if (!linkaccessor) {\n    linkaccessor = id;\n  }\n  gutter = gutter || 10;\n  rectWidth = rectWidth || 10;\n\n  var links_ = data.links.map(linkaccessor);\n  var nodes_ = data.nodes.map(function (level) {\n    return level.map(nodeaccessor);\n  });\n\n  // Compute the spacing between groups of rectangles;\n  // takes care of rects width\n  var spacingGroups = (width - rectWidth) / (data.nodes.length - 1);\n  var nameValues = {};\n\n  // Initialize the information about nodes\n  nodes_.reduce(function (a, b) {\n    return a.concat(b);\n  }).forEach(function (name) {\n    nameValues[name] = {\n      value: 0,\n      currentlyUsedIn: 0,\n      currentlyUsedOut: 0\n    };\n  });\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    var _loop = function () {\n      var _step$value = _slicedToArray(_step.value, 2);\n\n      var name = _step$value[0];\n      var val = _step$value[1];\n\n      var valsIn = (0, _ops.sumBy)(links_.filter(function (x) {\n        return x.end === name;\n      }), function (x) {\n        return x.weight;\n      });\n      var valsOut = (0, _ops.sumBy)(links_.filter(function (x) {\n        return x.start === name;\n      }), function (x) {\n        return x.weight;\n      });\n      val.value = Math.max(valsIn, valsOut);\n    };\n\n    for (var _iterator = (0, _ops.pairs)(nameValues)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      _loop();\n    }\n\n    // Find a suitable scale: it should take care of the maximum height\n    // of stacked rectangles and gutters between them.\n    // I did as follows: take the initial height and, for each group of\n    // rectangles, compute how much space you have available, that is,\n    // height - gutters; there are lengthOfGroup - 1 gutters.\n    // Consider the ratios spaceForEachGroup / heightOfStackedRectangles\n    // and take the minimum. Use this as scale factor.\n\n    // Compute height of staked rectangles in a group\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var heightOfGroups = nodes_.map(function (group) {\n    return (0, _ops.sumBy)(group, function (name) {\n      return nameValues[name].value;\n    });\n  });\n\n  // Compute the available height for each group (height - gutters)\n  var spaceForEachGroup = nodes_.map(function (group) {\n    return height - (group.length - 1) * gutter;\n  });\n\n  // Compute minimum ratio\n  var scale = (0, _ops.min)(heightOfGroups.map(function (heightOfGroup, idx) {\n    return spaceForEachGroup[idx] / heightOfGroup;\n  }));\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = (0, _ops.pairs)(nameValues)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var _step2$value = _slicedToArray(_step2.value, 2);\n\n      var _name = _step2$value[0];\n      var val = _step2$value[1];\n\n      val.scaledValue = scale * val.value;\n    }\n\n    // Fill rectangles information: each rectangle\n    // is stack on the previous one, with a gutter\n    // The group of rectangles is centered in their own column\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n        _iterator2['return']();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  var rectangles = [];\n  var nodeIdx = -1;\n\n  nodes_.forEach(function (group, idg) {\n    var hGroup = (0, _ops.sumBy)(group, function (y) {\n      return nameValues[y].scaledValue;\n    }) + (group.length - 1) * gutter;\n    var firstTop = (height - hGroup) / 2;\n    // Fake previous bottom\n    var previousBottom = firstTop - gutter;\n    group.forEach(function (name, idn) {\n      var top = previousBottom + gutter;\n      var bottom = top + nameValues[name].scaledValue;\n      previousBottom = bottom;\n      var att = {\n        top: top,\n        bottom: bottom,\n        left: rectWidth / 2 + idg * spacingGroups - rectWidth / 2,\n        right: rectWidth / 2 + idg * spacingGroups + rectWidth / 2\n      };\n      nameValues[name].rectangleCoords = att;\n      nodeIdx += 1;\n      rectangles.push((0, _ops.enhance)(compute, {\n        curve: (0, _rectangle2['default'])(att),\n        item: data.nodes[idg][idn],\n        index: nodeIdx,\n        group: idg\n      }));\n    });\n  });\n\n  var curvedRectangles = links_.map(function (link, i) {\n    var s = nameValues[link.start];\n    var t = nameValues[link.end];\n    var rectSource = s.rectangleCoords;\n    var rectTarget = t.rectangleCoords;\n    var scaledWeight = link.weight * scale;\n    var a = rectSource.top + s.currentlyUsedOut;\n    var b = rectTarget.top + t.currentlyUsedIn;\n    var curvedRect = {\n      topleft: [rectSource.right, a],\n      topright: [rectTarget.left, b],\n      bottomleft: [rectSource.right, a + scaledWeight],\n      bottomright: [rectTarget.left, b + scaledWeight]\n    };\n    s.currentlyUsedOut += scaledWeight;\n    t.currentlyUsedIn += scaledWeight;\n\n    return (0, _ops.enhance)(compute, {\n      curve: (0, _curvedRectangle2['default'])(curvedRect),\n      item: data.links[i],\n      index: i\n    });\n  });\n\n  return {\n    curvedRectangles: curvedRectangles,\n    rectangles: rectangles\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nvar _path = require('./path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var _Path$moveto$arc$lineto, _Path$moveto$arc, _Path$moveto, _Path;\n\n  var center = _ref.center;\n  var r = _ref.r;\n  var R = _ref.R;\n  var start = _ref.start;\n  var end = _ref.end;\n\n  var a = (0, _ops.plus)(center, (0, _ops.onCircle)(R, start));\n  var b = (0, _ops.plus)(center, (0, _ops.onCircle)(R, end));\n  var c = (0, _ops.plus)(center, (0, _ops.onCircle)(r, end));\n  var d = (0, _ops.plus)(center, (0, _ops.onCircle)(r, start));\n\n  var large = end - start > Math.PI ? 1 : 0;\n\n  var path = (_Path$moveto$arc$lineto = (_Path$moveto$arc = (_Path$moveto = (_Path = (0, _path2['default'])()).moveto.apply(_Path, _toConsumableArray(a))).arc.apply(_Path$moveto, [R, R, 0, large, 1].concat(_toConsumableArray(b)))).lineto.apply(_Path$moveto$arc, _toConsumableArray(c))).arc.apply(_Path$moveto$arc$lineto, [r, r, 0, large, 0].concat(_toConsumableArray(d))).closepath();\n\n  var midAngle = (start + end) / 2;\n  var midRadius = (r + R) / 2;\n  var centroid = (0, _ops.plus)(center, (0, _ops.onCircle)(midRadius, midAngle));\n\n  return {\n    path: path,\n    centroid: centroid\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _polygon = require('./polygon');\n\nvar _polygon2 = _interopRequireDefault(_polygon);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var center = _ref.center;\n  var radii = _ref.radii;\n\n  var angle = 2 * Math.PI / radii.length;\n  var points = radii.map(function (r, i) {\n    return (0, _ops.plus)(center, (0, _ops.onCircle)(r, i * angle));\n  });\n\n  return (0, _polygon2['default'])({\n    points: points,\n    closed: true\n  });\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _path = require('./path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _connector = require('./connector');\n\nvar _connector2 = _interopRequireDefault(_connector);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var topleft = _ref.topleft;\n  var topright = _ref.topright;\n  var bottomleft = _ref.bottomleft;\n  var bottomright = _ref.bottomright;\n\n  var topCurve = (0, _connector2['default'])({ start: topleft, end: topright }).path;\n  var bottomCurve = (0, _connector2['default'])({ start: bottomright, end: bottomleft }).path;\n  var path = topCurve.connect(bottomCurve).closepath();\n  var centroid = (0, _ops.average)([topleft, topright, bottomleft, bottomright]);\n\n  return {\n    path: path,\n    centroid: centroid\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nvar _bezier = require('./bezier');\n\nvar _bezier2 = _interopRequireDefault(_bezier);\n\nvar _lineChartComp = require('./line-chart-comp');\n\nvar _lineChartComp2 = _interopRequireDefault(_lineChartComp);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (options) {\n  var _comp = (0, _lineChartComp2['default'])(options);\n\n  var arranged = _comp.arranged;\n  var scale = _comp.scale;\n  var xscale = _comp.xscale;\n  var yscale = _comp.yscale;\n  var base = _comp.base;\n\n  var i = -1;\n\n  var lines = arranged.map(function (_ref) {\n    var _line$path$lineto, _line$path;\n\n    var points = _ref.points;\n    var xmin = _ref.xmin;\n    var xmax = _ref.xmax;\n\n    var scaledPoints = points.map(scale);\n    i += 1;\n    var line = (0, _bezier2['default'])({ points: scaledPoints });\n    var area = {\n      path: (_line$path$lineto = (_line$path = line.path).lineto.apply(_line$path, _toConsumableArray(scale([xmax, base])))).lineto.apply(_line$path$lineto, _toConsumableArray(scale([xmin, base]))).closepath(),\n      centroid: (0, _ops.average)([line.centroid, scale([xmin, base]), scale([xmax, base])])\n    };\n\n    return (0, _ops.enhance)(options.compute, {\n      item: options.data[i],\n      line: line,\n      area: area,\n      index: i\n    });\n  });\n\n  return {\n    curves: lines,\n    xscale: xscale,\n    yscale: yscale\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _polygon = require('./polygon');\n\nvar _polygon2 = _interopRequireDefault(_polygon);\n\nvar _lineChartComp = require('./line-chart-comp');\n\nvar _lineChartComp2 = _interopRequireDefault(_lineChartComp);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (options) {\n  var _comp = (0, _lineChartComp2['default'])(options);\n\n  var arranged = _comp.arranged;\n  var scale = _comp.scale;\n  var xscale = _comp.xscale;\n  var yscale = _comp.yscale;\n  var base = _comp.base;\n\n  var i = -1;\n\n  var polygons = arranged.map(function (_ref) {\n    var points = _ref.points;\n    var xmin = _ref.xmin;\n    var xmax = _ref.xmax;\n\n    var scaledPoints = points.map(scale);\n    points.push([xmax, base]);\n    points.push([xmin, base]);\n    var scaledPointsClosed = points.map(scale);\n    i += 1;\n\n    return (0, _ops.enhance)(options.compute, {\n      item: options.data[i],\n      line: (0, _polygon2['default'])({\n        points: scaledPoints,\n        closed: false\n      }),\n      area: (0, _polygon2['default'])({\n        points: scaledPointsClosed,\n        closed: true\n      }),\n      index: i\n    });\n  });\n\n  return {\n    curves: polygons,\n    xscale: xscale,\n    yscale: yscale\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _connector = require('./connector');\n\nvar _connector2 = _interopRequireDefault(_connector);\n\nvar _linear = require('./linear');\n\nvar _linear2 = _interopRequireDefault(_linear);\n\nvar _ops = require('./ops');\n\nvar _treeUtils = require('./tree-utils');\n\nexports['default'] = function (_ref) {\n  var data = _ref.data;\n  var width = _ref.width;\n  var height = _ref.height;\n  var children = _ref.children;\n  var tension = _ref.tension;\n\n  if (!children) {\n    children = function (x) {\n      return x.children;\n    };\n  }\n  var tree = (0, _treeUtils.buildTree)(data, children);\n  var levels = (0, _treeUtils.treeHeight)(tree);\n  var maxHeights = (0, _treeUtils.setHeight)(tree);\n  var hspace = width / (levels - 1);\n  var hscale = (0, _linear2['default'])([0, levels - 1], [0, width]);\n  var vscales = (0, _ops.range)(0, levels).map(function (level) {\n    var availableHeight = Math.sqrt(level / (levels - 1)) * height;\n    var top = (height - availableHeight) / 2;\n    var bottom = top + availableHeight;\n    var maxHeight = level > 0 ? maxHeights[level] + maxHeights[level - 1] : maxHeights[level];\n    if (maxHeight === 0) {\n      return function (x) {\n        return height / 2;\n      };\n    } else {\n      return (0, _linear2['default'])([0, maxHeight], [top, bottom]);\n    }\n  });\n\n  var position = function position(node) {\n    var level = node.level;\n    var vscale = vscales[level];\n    return [hscale(level), vscale(node.height_)];\n  };\n\n  var i = -1;\n  var connectors = (0, _treeUtils.collect)(tree, function (parent, child) {\n    i += 1;\n    child.height_ = child.height + parent.height;\n    return {\n      connector: (0, _connector2['default'])({\n        start: position(parent),\n        end: position(child),\n        tension: tension\n      }),\n      index: i,\n      item: {\n        start: parent.item,\n        end: child.item\n      }\n    };\n  });\n  var childNodes = (0, _treeUtils.collect)(tree, function (parent, child) {\n    return {\n      point: position(child),\n      item: child.item\n    };\n  });\n  var rootNode = {\n    point: position(tree),\n    item: tree.item\n  };\n\n  return {\n    curves: connectors,\n    nodes: [rootNode].concat(childNodes)\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _linear = require('./linear');\n\nvar _linear2 = _interopRequireDefault(_linear);\n\nvar _rectangle = require('./rectangle');\n\nvar _rectangle2 = _interopRequireDefault(_rectangle);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var data = _ref.data;\n  var accessor = _ref.accessor;\n  var width = _ref.width;\n  var height = _ref.height;\n  var _ref$gutter = _ref.gutter;\n  var gutter = _ref$gutter === undefined ? 10 : _ref$gutter;\n  var compute = _ref.compute;\n  var _ref$min = _ref.min;\n  var min = _ref$min === undefined ? 0 : _ref$min;\n  var _ref$max = _ref.max;\n  var max = _ref$max === undefined ? 0 : _ref$max;\n\n  if (!accessor) {\n    accessor = function (x) {\n      return x;\n    };\n  }\n  var last = 0;\n  var data_ = [];\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = data[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var d = _step.value;\n\n      var _accessor = accessor(d);\n\n      var value = _accessor.value;\n      var absolute = _accessor.absolute;\n\n      var _ref2 = absolute ? [0, value || last] : [last, last + value];\n\n      var _ref22 = _slicedToArray(_ref2, 2);\n\n      var low = _ref22[0];\n      var high = _ref22[1];\n\n      var m = Math.min(low, high);\n      var M = Math.max(low, high);\n      min = Math.min(min, m);\n      max = Math.max(max, M);\n      last = high;\n\n      data_.push({\n        item: d,\n        low: low,\n        high: high,\n        value: value != null ? value : high\n      });\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var n = data_.length;\n  var barWidth = (width - gutter * (n - 1)) / n;\n  var curves = [];\n  var scale = (0, _linear2['default'])([min, max], [height, 0]);\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = data_.entries()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var _step2$value = _slicedToArray(_step2.value, 2);\n\n      var i = _step2$value[0];\n      var d = _step2$value[1];\n\n      var left = i * (barWidth + gutter);\n      var right = left + barWidth;\n      var bottom = scale(d.low);\n      var _top = scale(d.high);\n      var line = (0, _rectangle2['default'])({ left: left, right: right, bottom: bottom, top: _top });\n      curves.push((0, _ops.enhance)(compute, {\n        item: d.item,\n        line: line,\n        value: d.value,\n        index: i\n      }));\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n        _iterator2['return']();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  return {\n    curves: curves,\n    scale: scale\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _polygon = require('./polygon');\n\nvar _polygon2 = _interopRequireDefault(_polygon);\n\nvar _ops = require('./ops');\n\nvar _barnesHut = require('./barnes-hut');\n\nvar _barnesHut2 = _interopRequireDefault(_barnesHut);\n\nvar randomPosition = function randomPosition(w, h) {\n  return [Math.random() * w, Math.random() * h];\n};\n\nvar cap = function cap(bound, x) {\n  return Math.min(Math.max(x, 0), bound);\n};\n\nvar inside = function inside(w, h) {\n  return function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2);\n\n    var x = _ref2[0];\n    var y = _ref2[1];\n    return [cap(w, x), cap(h, y)];\n  };\n};\n\nvar attractiveForces = function attractiveForces(links, positions, attraction) {\n  var forces = {};\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = Object.keys(links)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var id = _step.value;\n      var _links$id = links[id];\n      var start = _links$id.start;\n      var end = _links$id.end;\n      var weight = _links$id.weight;\n\n      var pos1 = positions[start];\n      var pos2 = positions[end];\n      var force = (0, _ops.times)(attraction * weight, (0, _ops.minus)(pos1, pos2));\n      if (!forces[start]) {\n        forces[start] = [0, 0];\n      }\n      if (!forces[end]) {\n        forces[end] = [0, 0];\n      }\n      forces[start] = (0, _ops.minus)(forces[start], force);\n      forces[end] = (0, _ops.plus)(forces[end], force);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return forces;\n};\n\nexports['default'] = function (_ref3) {\n  var data = _ref3.data;\n  var nodeaccessor = _ref3.nodeaccessor;\n  var linkaccessor = _ref3.linkaccessor;\n  var width = _ref3.width;\n  var height = _ref3.height;\n  var attraction = _ref3.attraction;\n  var repulsion = _ref3.repulsion;\n  var threshold = _ref3.threshold;\n\n  var identity = function identity(x) {\n    return x;\n  };\n  if (!nodeaccessor) {\n    nodeaccessor = identity;\n  }\n  if (!linkaccessor) {\n    linkaccessor = identity;\n  }\n  attraction = attraction || 1;\n  repulsion = repulsion || 1;\n  threshold = threshold || 0.5;\n  var bound = inside(width, height);\n\n  var nodes = data.nodes;\n  var links = data.links;\n  var constraints = data.constraints;\n\n  if (!constraints) {\n    constraints = {};\n  }\n  var nodesPositions = {};\n  var nodes_ = {};\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = nodes[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var node = _step2.value;\n\n      var id = nodeaccessor(node);\n      nodesPositions[id] = constraints[id] || randomPosition(width, height);\n      nodes_[id] = node;\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n        _iterator2['return']();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  var links_ = {};\n\n  var _iteratorNormalCompletion3 = true;\n  var _didIteratorError3 = false;\n  var _iteratorError3 = undefined;\n\n  try {\n    for (var _iterator3 = links[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n      var link = _step3.value;\n\n      var _linkaccessor = linkaccessor(link);\n\n      var start = _linkaccessor.start;\n      var end = _linkaccessor.end;\n      var weight = _linkaccessor.weight;\n\n      links_[start + '|' + end] = { weight: weight, start: start, end: end, link: link };\n    }\n  } catch (err) {\n    _didIteratorError3 = true;\n    _iteratorError3 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion3 && _iterator3['return']) {\n        _iterator3['return']();\n      }\n    } finally {\n      if (_didIteratorError3) {\n        throw _iteratorError3;\n      }\n    }\n  }\n\n  var tick = function tick() {\n    var bodies = _barnesHut2['default'].bodies(nodesPositions);\n    var root = _barnesHut2['default'].root(width, height);\n    var tree = _barnesHut2['default'].tree(bodies, root);\n    var attractions = attractiveForces(links_, nodesPositions, attraction / 1000);\n    var repulsions = _barnesHut2['default'].forces(tree, repulsion * 1000, threshold);\n    var _iteratorNormalCompletion4 = true;\n    var _didIteratorError4 = false;\n    var _iteratorError4 = undefined;\n\n    try {\n      for (var _iterator4 = Object.keys(nodesPositions)[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n        var id = _step4.value;\n\n        var position = nodesPositions[id];\n        if (constraints[id]) {\n          nodesPositions[id] = constraints[id];\n        } else {\n          var f1 = attractions[id] || [0, 0];\n          var f2 = repulsions[id] || [0, 0];\n          var f = (0, _ops.plus)(f1, f2);\n          nodesPositions[id] = bound((0, _ops.plus)(position, f));\n        }\n      }\n    } catch (err) {\n      _didIteratorError4 = true;\n      _iteratorError4 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion4 && _iterator4['return']) {\n          _iterator4['return']();\n        }\n      } finally {\n        if (_didIteratorError4) {\n          throw _iteratorError4;\n        }\n      }\n    }\n\n    return recompute();\n  };\n\n  var constrain = function constrain(id, position) {\n    constraints[id] = position;\n  };\n\n  var unconstrain = function unconstrain(id) {\n    delete constraints[id];\n  };\n\n  var graph = { tick: tick, constrain: constrain, unconstrain: unconstrain };\n\n  var recompute = function recompute() {\n    var i = -1;\n    graph.curves = (0, _ops.mapObject)(links_, function (id, _ref4) {\n      var start = _ref4.start;\n      var end = _ref4.end;\n      var link = _ref4.link;\n\n      i += 1;\n      var p = nodesPositions[start];\n      var q = nodesPositions[end];\n\n      return {\n        link: (0, _polygon2['default'])({ points: [p, q], closed: false }),\n        item: link,\n        index: i\n      };\n    });\n\n    graph.nodes = (0, _ops.mapObject)(nodes_, function (id, node) {\n      return {\n        point: nodesPositions[id],\n        item: node\n      };\n    });\n\n    return graph;\n  };\n\n  return recompute();\n};\n\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; })();\n\nvar sum = function sum(xs) {\n  return xs.reduce(function (a, b) {\n    return a + b;\n  }, 0);\n};\n\nvar min = function min(xs) {\n  return xs.reduce(function (a, b) {\n    return Math.min(a, b);\n  });\n};\n\nvar max = function max(xs) {\n  return xs.reduce(function (a, b) {\n    return Math.max(a, b);\n  });\n};\n\nvar sumBy = function sumBy(xs, f) {\n  return xs.reduce(function (a, b) {\n    return a + f(b);\n  }, 0);\n};\n\nvar minBy = function minBy(xs, f) {\n  return xs.reduce(function (a, b) {\n    return Math.min(a, f(b));\n  }, Infinity);\n};\n\nvar maxBy = function maxBy(xs, f) {\n  return xs.reduce(function (a, b) {\n    return Math.max(a, f(b));\n  }, -Infinity);\n};\n\nvar plus = function plus(_ref, _ref3) {\n  var _ref2 = _slicedToArray(_ref, 2);\n\n  var a = _ref2[0];\n  var b = _ref2[1];\n\n  var _ref32 = _slicedToArray(_ref3, 2);\n\n  var c = _ref32[0];\n  var d = _ref32[1];\n  return [a + c, b + d];\n};\n\nvar minus = function minus(_ref4, _ref5) {\n  var _ref42 = _slicedToArray(_ref4, 2);\n\n  var a = _ref42[0];\n  var b = _ref42[1];\n\n  var _ref52 = _slicedToArray(_ref5, 2);\n\n  var c = _ref52[0];\n  var d = _ref52[1];\n  return [a - c, b - d];\n};\n\nvar times = function times(k, _ref6) {\n  var _ref62 = _slicedToArray(_ref6, 2);\n\n  var a = _ref62[0];\n  var b = _ref62[1];\n  return [k * a, k * b];\n};\n\nvar length = function length(_ref7) {\n  var _ref72 = _slicedToArray(_ref7, 2);\n\n  var a = _ref72[0];\n  var b = _ref72[1];\n  return Math.sqrt(a * a + b * b);\n};\n\nvar sumVectors = function sumVectors(xs) {\n  return xs.reduce(plus, [0, 0]);\n};\n\nvar average = function average(points) {\n  return times(1 / points.length, points.reduce(plus));\n};\n\nvar onCircle = function onCircle(r, angle) {\n  return times(r, [Math.sin(angle), -Math.cos(angle)]);\n};\n\nvar enhance = function enhance(compute, curve) {\n  var obj = compute || {};\n  for (var key in obj) {\n    var method = obj[key];\n    curve[key] = method(curve.index, curve.item, curve.group);\n  }\n  return curve;\n};\n\nvar range = function range(a, b, inclusive) {\n  var result = [];\n  for (var i = a; i < b; i++) {\n    result.push(i);\n  }\n  if (inclusive) {\n    result.push(b);\n  }\n  return result;\n};\n\nvar mapObject = function mapObject(obj, f) {\n  var result = [];\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = Object.keys(obj)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var k = _step.value;\n\n      var v = obj[k];\n      result.push(f(k, v));\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator[\"return\"]) {\n        _iterator[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return result;\n};\n\nvar pairs = function pairs(obj) {\n  return mapObject(obj, function (k, v) {\n    return [k, v];\n  });\n};\n\nvar id = function id(x) {\n  return x;\n};\n\nexports.sum = sum;\nexports.min = min;\nexports.max = max;\nexports.sumBy = sumBy;\nexports.minBy = minBy;\nexports.maxBy = maxBy;\nexports.plus = plus;\nexports.minus = minus;\nexports.times = times;\nexports.id = id;\nexports.length = length;\nexports.sumVectors = sumVectors;\nexports.average = average;\nexports.onCircle = onCircle;\nexports.enhance = enhance;\nexports.range = range;\nexports.mapObject = mapObject;\nexports.pairs = pairs;\nexports[\"default\"] = { sum: sum, min: min, max: max, sumBy: sumBy, minBy: minBy, maxBy: maxBy, plus: plus, minus: minus, times: times, id: id,\n  length: length, sumVectors: sumVectors, average: average, onCircle: onCircle, enhance: enhance, range: range, mapObject: mapObject, pairs: pairs };","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar maxBy = function maxBy(items, f) {\n  if (items === undefined) items = [];\n\n  return items.reduce(function (m, i) {\n    return Math.max(m, f(i));\n  }, 0);\n};\n\nvar treeHeight = function treeHeight(root) {\n  return 1 + maxBy(root.children, treeHeight);\n};\n\nvar buildTree = function buildTree(data, children) {\n  var level = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];\n\n  var result = {\n    item: data,\n    level: level\n  };\n  var cs = children(data);\n  if (cs && cs.length) {\n    result.children = cs.map(function (c) {\n      return buildTree(c, children, level + 1);\n    });\n  }\n  return result;\n};\n\nvar setHeight = function setHeight(root) {\n  var level = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n  var maxHeights = arguments.length <= 2 || arguments[2] === undefined ? [] : arguments[2];\n\n  if (maxHeights[level] != null) {\n    root.height = maxHeights[level] + 1;\n    maxHeights[level] += 1;\n  } else {\n    maxHeights[level] = 0;\n    root.height = 0;\n  }\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = (root.children || [])[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var child = _step.value;\n\n      setHeight(child, level + 1, maxHeights);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator[\"return\"]) {\n        _iterator[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return maxHeights;\n};\n\n// f is a function of (parent, child)\nvar collect = function collect(root, f) {\n  var result = [];\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = (root.children || [])[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var child = _step2.value;\n\n      result.push(f(root, child));\n      result = result.concat(collect(child, f));\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2[\"return\"]) {\n        _iterator2[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  return result;\n};\n\nexports.treeHeight = treeHeight;\nexports.buildTree = buildTree;\nexports.setHeight = setHeight;\nexports.collect = collect;","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _linear = require('./linear');\n\nvar _linear2 = _interopRequireDefault(_linear);\n\nvar _ops = require('./ops');\n\nvar epsilon = 1e-5;\n\nvar box = function box(datum, accessor) {\n  var points = datum.map(accessor);\n  var sorted = points.sort(function (_ref, _ref3) {\n    var _ref2 = _slicedToArray(_ref, 2);\n\n    var a = _ref2[0];\n    var b = _ref2[1];\n\n    var _ref32 = _slicedToArray(_ref3, 2);\n\n    var c = _ref32[0];\n    var d = _ref32[1];\n    return a - c;\n  });\n  var l = sorted.length;\n  var xmin = sorted[0][0];\n  var xmax = sorted[l - 1][0];\n  var ymin = (0, _ops.minBy)(sorted, function (p) {\n    return p[1];\n  });\n  var ymax = (0, _ops.maxBy)(sorted, function (p) {\n    return p[1];\n  });\n  if (xmin == xmax) {\n    xmax += epsilon;\n  }\n  if (ymin == ymax) {\n    ymax += epsilon;\n  }\n\n  return {\n    points: sorted,\n    xmin: xmin,\n    xmax: xmax,\n    ymin: ymin,\n    ymax: ymax\n  };\n};\n\nexports['default'] = function (_ref4) {\n  var data = _ref4.data;\n  var xaccessor = _ref4.xaccessor;\n  var yaccessor = _ref4.yaccessor;\n  var width = _ref4.width;\n  var height = _ref4.height;\n  var closed = _ref4.closed;\n  var min = _ref4.min;\n  var max = _ref4.max;\n\n  if (!xaccessor) {\n    xaccessor = function (_ref5) {\n      var _ref52 = _slicedToArray(_ref5, 2);\n\n      var x = _ref52[0];\n      var y = _ref52[1];\n      return x;\n    };\n  }\n  if (!yaccessor) {\n    yaccessor = function (_ref6) {\n      var _ref62 = _slicedToArray(_ref6, 2);\n\n      var x = _ref62[0];\n      var y = _ref62[1];\n      return y;\n    };\n  }\n  var f = function f(i) {\n    return [xaccessor(i), yaccessor(i)];\n  };\n  var arranged = data.map(function (datum) {\n    return box(datum, f);\n  });\n\n  var xmin = (0, _ops.minBy)(arranged, function (d) {\n    return d.xmin;\n  });\n  var xmax = (0, _ops.maxBy)(arranged, function (d) {\n    return d.xmax;\n  });\n  var ymin = min == null ? (0, _ops.minBy)(arranged, function (d) {\n    return d.ymin;\n  }) : min;\n  var ymax = max == null ? (0, _ops.maxBy)(arranged, function (d) {\n    return d.ymax;\n  }) : max;\n  if (closed) {\n    ymin = Math.min(ymin, 0);\n    ymax = Math.max(ymax, 0);\n  }\n  var base = closed ? 0 : ymin;\n  var xscale = (0, _linear2['default'])([xmin, xmax], [0, width]);\n  var yscale = (0, _linear2['default'])([ymin, ymax], [height, 0]);\n  var scale = function scale(_ref7) {\n    var _ref72 = _slicedToArray(_ref7, 2);\n\n    var x = _ref72[0];\n    var y = _ref72[1];\n    return [xscale(x), yscale(y)];\n  };\n\n  return {\n    arranged: arranged,\n    scale: scale,\n    xscale: xscale,\n    yscale: yscale,\n    base: base\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar _ops = require('./ops');\n\nvar average = function average(body1, body2) {\n  var mass = body1.mass + body2.mass;\n  var point = (0, _ops.times)(1 / mass, (0, _ops.plus)((0, _ops.times)(body1.mass, body1.point), (0, _ops.times)(body2.mass, body2.point)));\n  return [point, mass];\n};\n\nvar locate = function locate(_ref, quadrants) {\n  var _ref2 = _slicedToArray(_ref, 2);\n\n  var x = _ref2[0];\n  var y = _ref2[1];\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = quadrants[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var q = _step.value;\n      var _q$box = q.box;\n      var _top = _q$box.top;\n      var bottom = _q$box.bottom;\n      var left = _q$box.left;\n      var right = _q$box.right;\n\n      if (left <= x && x <= right && bottom <= y && y <= _top) {\n        return q;\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n};\n\nvar makeQuadrant = function makeQuadrant(_ref3, _ref4) {\n  var top = _ref3.top;\n  var bottom = _ref3.bottom;\n  var left = _ref3.left;\n  var right = _ref3.right;\n\n  var _ref42 = _slicedToArray(_ref4, 2);\n\n  var a = _ref42[0];\n  var b = _ref42[1];\n\n  var halfwayV = (left + right) / 2;\n  var halfwayH = (top + bottom) / 2;\n\n  return {\n    box: {\n      top: b ? halfwayH : top,\n      bottom: b ? bottom : halfwayH,\n      left: a ? halfwayV : left,\n      right: a ? right : halfwayV\n    }\n  };\n};\n\nvar subdivide = function subdivide(_ref5) {\n  var box = _ref5.box;\n  return [makeQuadrant(box, [0, 0]), makeQuadrant(box, [1, 0]), makeQuadrant(box, [0, 1]), makeQuadrant(box, [1, 1])];\n};\n\nvar addBody = function addBody(root, body) {\n  if (root.body) {\n    var oldBody = root.body;\n    delete root.body;\n    root.children = subdivide(root);\n    addBody(root, oldBody);\n    addBody(root, body);\n  } else {\n    if (root.children) {\n      var child = locate(body.point, root.children);\n\n      var _ref6 = root.point ? average(root, body) : [body.point, body.mass];\n\n      var _ref62 = _slicedToArray(_ref6, 2);\n\n      var p = _ref62[0];\n      var m = _ref62[1];\n\n      root.point = p;\n      root.mass = m;\n      addBody(child, body);\n    } else {\n      root.body = body;\n    }\n  }\n};\n\nvar makeTree = function makeTree(_x, _x2) {\n  var _again = true;\n\n  _function: while (_again) {\n    var bodies = _x,\n        root = _x2;\n    _again = false;\n\n    if (bodies.length === 0) {\n      return root;\n    } else {\n      var body = bodies.shift();\n      addBody(root, body);\n      _x = bodies;\n      _x2 = root;\n      _again = true;\n      body = undefined;\n      continue _function;\n    }\n  }\n};\n\nvar makeBodies = function makeBodies(positions) {\n  return (0, _ops.mapObject)(positions, function (id, position) {\n    return { id: id, point: position, mass: 1 };\n  });\n};\n\nvar makeRoot = function makeRoot(width, height) {\n  return {\n    box: {\n      top: height,\n      bottom: 0,\n      left: 0,\n      right: width\n    }\n  };\n};\n\nvar walkLeaves = function walkLeaves(tree, f) {\n  if (tree.body) {\n    f(tree);\n  } else {\n    if (tree.children) {\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = tree.children[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var child = _step2.value;\n\n          walkLeaves(child, f);\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n            _iterator2['return']();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n    }\n  }\n};\n\nvar bodyForceOn = function bodyForceOn(b1, b2, repulsion) {\n  var segment = (0, _ops.minus)(b1.point, b2.point);\n  var d = (0, _ops.length)(segment);\n  return (0, _ops.times)(repulsion * b1.mass * b2.mass / (d * d * d), segment);\n};\n\nvar boxWidth = function boxWidth(_ref7) {\n  var top = _ref7.top;\n  var bottom = _ref7.bottom;\n  var left = _ref7.left;\n  var right = _ref7.right;\n  return (0, _ops.length)([top - bottom, right - left]);\n};\n\nvar forceOn = function forceOn(leaf, tree, repulsion, threshold) {\n  if (tree === leaf) {\n    return [0, 0];\n  } else if (tree.body) {\n    return bodyForceOn(leaf.body, tree.body, repulsion);\n  } else if (tree.point) {\n    var s = boxWidth(tree.box);\n    var d = (0, _ops.length)((0, _ops.minus)(leaf.body.point, tree.point));\n\n    if (s / d < threshold) {\n      return bodyForceOn(leaf.body, tree, repulsion);\n    } else return (0, _ops.sumVectors)(tree.children.map(function (c) {\n      return forceOn(leaf, c, repulsion, threshold);\n    }));\n  } else return [0, 0];\n};\n\nvar repulsiveForces = function repulsiveForces(tree, repulsion, threshold) {\n  var forces = {};\n  walkLeaves(tree, function (leaf) {\n    forces[leaf.body.id] = forceOn(leaf, tree, repulsion, threshold);\n  });\n  return forces;\n};\n\nexports.tree = makeTree;\nexports.bodies = makeBodies;\nexports.root = makeRoot;\nexports.forces = repulsiveForces;\nexports['default'] = {\n  tree: makeTree,\n  bodies: makeBodies,\n  root: makeRoot,\n  forces: repulsiveForces\n};"]}