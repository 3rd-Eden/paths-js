{"version":3,"sources":["node_modules/browser-pack/_prelude.js","dist/node/all.js","dist/node/graph.js","dist/node/linear.js","dist/node/path.js","dist/node/bezier.js","dist/node/pie.js","dist/node/polygon.js","dist/node/radar.js","dist/node/rectangle.js","dist/node/sankey.js","dist/node/bar.js","dist/node/semi-regular-polygon.js","dist/node/smooth-line.js","dist/node/stock.js","dist/node/tree.js","dist/node/waterfall.js","dist/node/connector.js","dist/node/curved-rectangle.js","dist/node/sector.js","dist/node/ops.js","dist/node/barnes-hut.js","dist/node/line-chart-comp.js","dist/node/tree-utils.js"],"names":["_interopRequireDefault","obj","__esModule","default","_bar","require","_bar2","_bezier","_bezier2","_connector","_connector2","_curvedRectangle","_curvedRectangle2","_graph","_graph2","_linear","_linear2","_path","_path2","_pie","_pie2","_polygon","_polygon2","_radar","_radar2","_rectangle","_rectangle2","_sankey","_sankey2","_sector","_sector2","_semiRegularPolygon","_semiRegularPolygon2","_smoothLine","_smoothLine2","_stock","_stock2","_tree","_tree2","_waterfall","_waterfall2","window","Paths","Bar","Bezier","Connector","CurvedRectangle","Graph","Linear","Path","Pie","Polygon","Radar","Rectangle","Sankey","Sector","SemiRegularPolygon","SmoothLine","Stock","Tree","Waterfall","Object","defineProperty","exports","value","_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","length","err","Array","isArray","TypeError","_ops","_barnesHut","_barnesHut2","randomPosition","w","h","Math","random","cap","bound","x","min","max","inside","_ref","_ref2","y","attractiveForces","links","positions","attraction","forces","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","keys","id","_links$id","start","end","weight","pos1","pos2","force","times","minus","plus","_ref3","data","nodeaccessor","linkaccessor","width","height","repulsion","threshold","identity","nodes","constraints","nodesPositions","nodes_","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","node","links_","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","link","_linkaccessor","tick","bodies","root","tree","attractions","repulsions","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","position","f1","f2","f","recompute","constrain","unconstrain","graph","curves","mapObject","_ref4","p","q","points","closed","item","index","point","module","linear","a","b","_ref32","c","d","inverse","init","_instructions","el","copy","slice","areEqualPoints","a1","b1","a2","b2","trimZeros","string","char","l","charAt","substr","round","number","digits","str","toFixed","printInstrunction","command","params","numbers","map","param","join","_ref5","_ref6","_ref62","prevX","prevY","verbosify","args","k","arguments","apply","instruction","moveto","lineto","hlineto","vlineto","closepath","curveto","x1","y1","x2","y2","smoothcurveto","qcurveto","smoothqcurveto","arc","rx","ry","xrot","largeArcFlag","sweepFlag","print","ps","prev","instructions","connect","path","this","last","first","newInstructions","unshift","concat","_toConsumableArray","arr2","from","reflect","_Path","tension","diffs","controlPoints","average","c0","c1","p0","p1","range","reduce","pt","centroid","accessor","center","r","R","compute","values","s","sum","scale","PI","t","entries","_step$value","enhance","sector","head","tail","collectKeys","objects","object","key","indexOf","keyAccessor","o","globalMax","maxs","maxBy","_ref$rings","rings","_ref$compute","sides","ringPaths","n","radius","radii","polygons","polygon","left","right","top","bottom","gutter","rectWidth","level","spacingGroups","nameValues","forEach","name","currentlyUsedIn","currentlyUsedOut","_loop","val","valsIn","sumBy","filter","valsOut","pairs","heightOfGroups","group","spaceForEachGroup","heightOfGroup","idx","_step2$value","scaledValue","rectangles","nodeIdx","idg","hGroup","firstTop","previousBottom","idn","att","rectangleCoords","curve","curvedRectangles","rectSource","rectTarget","scaledWeight","curvedRect","topleft","topright","bottomleft","bottomright","_ref$accessor","_ref$gutter","groups","_step3$value","j","groupWidth","g","shift","_step4$value","_top","line","angle","onCircle","_lineChartComp","_lineChartComp2","options","_comp","arranged","xscale","yscale","base","lines","_line$path$lineto","_line$path","xmin","xmax","scaledPoints","area","scaledPointsClosed","_treeUtils","children","buildTree","levels","treeHeight","maxHeights","setHeight","hscale","vscales","availableHeight","sqrt","maxHeight","vscale","height_","connectors","collect","parent","child","connector","childNodes","rootNode","_ref$min","_ref$max","data_","_accessor","absolute","_ref22","low","high","m","M","barWidth","_Path$moveto$lineto$curveto","_Path$moveto","_start","_end","mid1","topCurve","bottomCurve","_Path$moveto$arc$lineto","_Path$moveto$arc","large","midAngle","midRadius","xs","minBy","Infinity","_ref42","_ref52","_ref7","_ref72","sumVectors","sin","cos","method","inclusive","result","v","body1","body2","mass","locate","quadrants","_q$box","box","makeQuadrant","halfwayV","halfwayH","subdivide","addBody","body","oldBody","makeTree","_x","_x2","_again","makeBodies","makeRoot","walkLeaves","bodyForceOn","segment","boxWidth","forceOn","leaf","repulsiveForces","epsilon","datum","sorted","sort","ymin","ymax","xaccessor","yaccessor","items","cs"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _bar = require('./bar');\n\nvar _bar2 = _interopRequireDefault(_bar);\n\nvar _bezier = require('./bezier');\n\nvar _bezier2 = _interopRequireDefault(_bezier);\n\nvar _connector = require('./connector');\n\nvar _connector2 = _interopRequireDefault(_connector);\n\nvar _curvedRectangle = require('./curved-rectangle');\n\nvar _curvedRectangle2 = _interopRequireDefault(_curvedRectangle);\n\nvar _graph = require('./graph');\n\nvar _graph2 = _interopRequireDefault(_graph);\n\nvar _linear = require('./linear');\n\nvar _linear2 = _interopRequireDefault(_linear);\n\nvar _path = require('./path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _pie = require('./pie');\n\nvar _pie2 = _interopRequireDefault(_pie);\n\nvar _polygon = require('./polygon');\n\nvar _polygon2 = _interopRequireDefault(_polygon);\n\nvar _radar = require('./radar');\n\nvar _radar2 = _interopRequireDefault(_radar);\n\nvar _rectangle = require('./rectangle');\n\nvar _rectangle2 = _interopRequireDefault(_rectangle);\n\nvar _sankey = require('./sankey');\n\nvar _sankey2 = _interopRequireDefault(_sankey);\n\nvar _sector = require('./sector');\n\nvar _sector2 = _interopRequireDefault(_sector);\n\nvar _semiRegularPolygon = require('./semi-regular-polygon');\n\nvar _semiRegularPolygon2 = _interopRequireDefault(_semiRegularPolygon);\n\nvar _smoothLine = require('./smooth-line');\n\nvar _smoothLine2 = _interopRequireDefault(_smoothLine);\n\nvar _stock = require('./stock');\n\nvar _stock2 = _interopRequireDefault(_stock);\n\nvar _tree = require('./tree');\n\nvar _tree2 = _interopRequireDefault(_tree);\n\nvar _waterfall = require('./waterfall');\n\nvar _waterfall2 = _interopRequireDefault(_waterfall);\n\nwindow.Paths = {\n  Bar: _bar2['default'],\n  Bezier: _bezier2['default'],\n  Connector: _connector2['default'],\n  CurvedRectangle: _curvedRectangle2['default'],\n  Graph: _graph2['default'],\n  Linear: _linear2['default'],\n  Path: _path2['default'],\n  Pie: _pie2['default'],\n  Polygon: _polygon2['default'],\n  Radar: _radar2['default'],\n  Rectangle: _rectangle2['default'],\n  Sankey: _sankey2['default'],\n  Sector: _sector2['default'],\n  SemiRegularPolygon: _semiRegularPolygon2['default'],\n  SmoothLine: _smoothLine2['default'],\n  Stock: _stock2['default'],\n  Tree: _tree2['default'],\n  Waterfall: _waterfall2['default']\n};","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _polygon = require('./polygon');\n\nvar _polygon2 = _interopRequireDefault(_polygon);\n\nvar _ops = require('./ops');\n\nvar _barnesHut = require('./barnes-hut');\n\nvar _barnesHut2 = _interopRequireDefault(_barnesHut);\n\nvar randomPosition = function randomPosition(w, h) {\n  return [Math.random() * w, Math.random() * h];\n};\n\nvar cap = function cap(bound, x) {\n  return Math.min(Math.max(x, 0), bound);\n};\n\nvar inside = function inside(w, h) {\n  return function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2);\n\n    var x = _ref2[0];\n    var y = _ref2[1];\n    return [cap(w, x), cap(h, y)];\n  };\n};\n\nvar attractiveForces = function attractiveForces(links, positions, attraction) {\n  var forces = {};\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = Object.keys(links)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var id = _step.value;\n      var _links$id = links[id];\n      var start = _links$id.start;\n      var end = _links$id.end;\n      var weight = _links$id.weight;\n\n      var pos1 = positions[start];\n      var pos2 = positions[end];\n      var force = (0, _ops.times)(attraction * weight, (0, _ops.minus)(pos1, pos2));\n      if (!forces[start]) {\n        forces[start] = [0, 0];\n      }\n      if (!forces[end]) {\n        forces[end] = [0, 0];\n      }\n      forces[start] = (0, _ops.minus)(forces[start], force);\n      forces[end] = (0, _ops.plus)(forces[end], force);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return forces;\n};\n\nexports['default'] = function (_ref3) {\n  var data = _ref3.data;\n  var nodeaccessor = _ref3.nodeaccessor;\n  var linkaccessor = _ref3.linkaccessor;\n  var width = _ref3.width;\n  var height = _ref3.height;\n  var attraction = _ref3.attraction;\n  var repulsion = _ref3.repulsion;\n  var threshold = _ref3.threshold;\n\n  var identity = function identity(x) {\n    return x;\n  };\n  if (!nodeaccessor) {\n    nodeaccessor = identity;\n  }\n  if (!linkaccessor) {\n    linkaccessor = identity;\n  }\n  attraction = attraction || 1;\n  repulsion = repulsion || 1;\n  threshold = threshold || 0.5;\n  var bound = inside(width, height);\n\n  var nodes = data.nodes;\n  var links = data.links;\n  var constraints = data.constraints;\n\n  if (!constraints) {\n    constraints = {};\n  }\n  var nodesPositions = {};\n  var nodes_ = {};\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = nodes[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var node = _step2.value;\n\n      var id = nodeaccessor(node);\n      nodesPositions[id] = constraints[id] || randomPosition(width, height);\n      nodes_[id] = node;\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n        _iterator2['return']();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  var links_ = {};\n\n  var _iteratorNormalCompletion3 = true;\n  var _didIteratorError3 = false;\n  var _iteratorError3 = undefined;\n\n  try {\n    for (var _iterator3 = links[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n      var link = _step3.value;\n\n      var _linkaccessor = linkaccessor(link);\n\n      var start = _linkaccessor.start;\n      var end = _linkaccessor.end;\n      var weight = _linkaccessor.weight;\n\n      links_[start + '|' + end] = { weight: weight, start: start, end: end, link: link };\n    }\n  } catch (err) {\n    _didIteratorError3 = true;\n    _iteratorError3 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion3 && _iterator3['return']) {\n        _iterator3['return']();\n      }\n    } finally {\n      if (_didIteratorError3) {\n        throw _iteratorError3;\n      }\n    }\n  }\n\n  var tick = function tick() {\n    var bodies = _barnesHut2['default'].bodies(nodesPositions);\n    var root = _barnesHut2['default'].root(width, height);\n    var tree = _barnesHut2['default'].tree(bodies, root);\n    var attractions = attractiveForces(links_, nodesPositions, attraction / 1000);\n    var repulsions = _barnesHut2['default'].forces(tree, repulsion * 1000, threshold);\n    var _iteratorNormalCompletion4 = true;\n    var _didIteratorError4 = false;\n    var _iteratorError4 = undefined;\n\n    try {\n      for (var _iterator4 = Object.keys(nodesPositions)[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n        var id = _step4.value;\n\n        var position = nodesPositions[id];\n        if (constraints[id]) {\n          nodesPositions[id] = constraints[id];\n        } else {\n          var f1 = attractions[id] || [0, 0];\n          var f2 = repulsions[id] || [0, 0];\n          var f = (0, _ops.plus)(f1, f2);\n          nodesPositions[id] = bound((0, _ops.plus)(position, f));\n        }\n      }\n    } catch (err) {\n      _didIteratorError4 = true;\n      _iteratorError4 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion4 && _iterator4['return']) {\n          _iterator4['return']();\n        }\n      } finally {\n        if (_didIteratorError4) {\n          throw _iteratorError4;\n        }\n      }\n    }\n\n    return recompute();\n  };\n\n  var constrain = function constrain(id, position) {\n    constraints[id] = position;\n  };\n\n  var unconstrain = function unconstrain(id) {\n    delete constraints[id];\n  };\n\n  var graph = { tick: tick, constrain: constrain, unconstrain: unconstrain };\n\n  var recompute = function recompute() {\n    var i = -1;\n    graph.curves = (0, _ops.mapObject)(links_, function (id, _ref4) {\n      var start = _ref4.start;\n      var end = _ref4.end;\n      var link = _ref4.link;\n\n      i += 1;\n      var p = nodesPositions[start];\n      var q = nodesPositions[end];\n\n      return {\n        link: (0, _polygon2['default'])({ points: [p, q], closed: false }),\n        item: link,\n        index: i\n      };\n    });\n\n    graph.nodes = (0, _ops.mapObject)(nodes_, function (id, node) {\n      return {\n        point: nodesPositions[id],\n        item: node\n      };\n    });\n\n    return graph;\n  };\n\n  return recompute();\n};\n\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; })();\n\nvar linear = function linear(_ref, _ref3) {\n  var _ref2 = _slicedToArray(_ref, 2);\n\n  var a = _ref2[0];\n  var b = _ref2[1];\n\n  var _ref32 = _slicedToArray(_ref3, 2);\n\n  var c = _ref32[0];\n  var d = _ref32[1];\n\n  var f = function f(x) {\n    return c + (d - c) * (x - a) / (b - a);\n  };\n\n  f.inverse = function () {\n    return linear([c, d], [a, b]);\n  };\n  return f;\n};\n\nexports[\"default\"] = linear;\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar Path = function Path(init) {\n  var _instructions = init || [];\n\n  var push = function push(arr, el) {\n    var copy = arr.slice(0, arr.length);\n    copy.push(el);\n    return copy;\n  };\n\n  var areEqualPoints = function areEqualPoints(_ref, _ref3) {\n    var _ref2 = _slicedToArray(_ref, 2);\n\n    var a1 = _ref2[0];\n    var b1 = _ref2[1];\n\n    var _ref32 = _slicedToArray(_ref3, 2);\n\n    var a2 = _ref32[0];\n    var b2 = _ref32[1];\n    return a1 === a2 && b1 === b2;\n  };\n\n  var trimZeros = function trimZeros(string, char) {\n    var l = string.length;\n    while (string.charAt(l - 1) === '0') {\n      l = l - 1;\n    }\n    if (string.charAt(l - 1) === '.') {\n      l = l - 1;\n    }\n    return string.substr(0, l);\n  };\n\n  var round = function round(number, digits) {\n    var str = number.toFixed(digits);\n    return trimZeros(str);\n  };\n\n  var printInstrunction = function printInstrunction(_ref4) {\n    var command = _ref4.command;\n    var params = _ref4.params;\n\n    var numbers = params.map(function (param) {\n      return round(param, 6);\n    });\n    return command + ' ' + numbers.join(' ');\n  };\n\n  var point = function point(_ref5, _ref6) {\n    var command = _ref5.command;\n    var params = _ref5.params;\n\n    var _ref62 = _slicedToArray(_ref6, 2);\n\n    var prevX = _ref62[0];\n    var prevY = _ref62[1];\n\n    switch (command) {\n      case 'M':\n        return [params[0], params[1]];\n      case 'L':\n        return [params[0], params[1]];\n      case 'H':\n        return [params[0], prevY];\n      case 'V':\n        return [prevX, params[0]];\n      case 'Z':\n        return null;\n      case 'C':\n        return [params[4], params[5]];\n      case 'S':\n        return [params[2], params[3]];\n      case 'Q':\n        return [params[2], params[3]];\n      case 'T':\n        return [params[0], params[1]];\n      case 'A':\n        return [params[5], params[6]];\n    }\n  };\n\n  var verbosify = function verbosify(keys, f) {\n    return function (a) {\n      var args = typeof a === 'object' ? keys.map(function (k) {\n        return a[k];\n      }) : arguments;\n      return f.apply(null, args);\n    };\n  };\n\n  var plus = function plus(instruction) {\n    return Path(push(_instructions, instruction));\n  };\n\n  return {\n    moveto: verbosify(['x', 'y'], function (x, y) {\n      return plus({\n        command: 'M',\n        params: [x, y]\n      });\n    }),\n    lineto: verbosify(['x', 'y'], function (x, y) {\n      return plus({\n        command: 'L',\n        params: [x, y]\n      });\n    }),\n    hlineto: verbosify(['x'], function (x) {\n      return plus({\n        command: 'H',\n        params: [x]\n      });\n    }),\n    vlineto: verbosify(['y'], function (y) {\n      return plus({\n        command: 'V',\n        params: [y]\n      });\n    }),\n    closepath: function closepath() {\n      return plus({\n        command: 'Z',\n        params: []\n      });\n    },\n    curveto: verbosify(['x1', 'y1', 'x2', 'y2', 'x', 'y'], function (x1, y1, x2, y2, x, y) {\n      return plus({\n        command: 'C',\n        params: [x1, y1, x2, y2, x, y]\n      });\n    }),\n    smoothcurveto: verbosify(['x2', 'y2', 'x', 'y'], function (x2, y2, x, y) {\n      return plus({\n        command: 'S',\n        params: [x2, y2, x, y]\n      });\n    }),\n    qcurveto: verbosify(['x1', 'y1', 'x', 'y'], function (x1, y1, x, y) {\n      return plus({\n        command: 'Q',\n        params: [x1, y1, x, y]\n      });\n    }),\n    smoothqcurveto: verbosify(['x', 'y'], function (x, y) {\n      return plus({\n        command: 'T',\n        params: [x, y]\n      });\n    }),\n    arc: verbosify(['rx', 'ry', 'xrot', 'largeArcFlag', 'sweepFlag', 'x', 'y'], function (rx, ry, xrot, largeArcFlag, sweepFlag, x, y) {\n      return plus({\n        command: 'A',\n        params: [rx, ry, xrot, largeArcFlag, sweepFlag, x, y]\n      });\n    }),\n    print: function print() {\n      return _instructions.map(printInstrunction).join(' ');\n    },\n    points: function points() {\n      var ps = [];\n      var prev = [0, 0];\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = _instructions[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var instruction = _step.value;\n\n          var p = point(instruction, prev);\n          prev = p;\n          if (p) {\n            ps.push(p);\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator['return']) {\n            _iterator['return']();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return ps;\n    },\n    instructions: function instructions() {\n      return _instructions.slice(0, _instructions.length);\n    },\n    connect: function connect(path) {\n      var ps = this.points();\n      var last = ps[ps.length - 1];\n      var first = path.points()[0];\n      var newInstructions = path.instructions().slice(1);\n      if (!areEqualPoints(last, first)) {\n        newInstructions.unshift({\n          command: \"L\",\n          params: first\n        });\n      }\n      return Path(this.instructions().concat(newInstructions));\n    }\n  };\n};\n\nexports['default'] = function () {\n  return Path();\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nvar _path = require('./path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _polygon = require('./polygon');\n\nvar _polygon2 = _interopRequireDefault(_polygon);\n\nvar _ops = require('./ops');\n\nvar reflect = function reflect(p, q) {\n  return (0, _ops.minus)((0, _ops.times)(2, p), q);\n};\n\nexports['default'] = function (_ref) {\n  var _Path;\n\n  var points = _ref.points;\n  var tension = _ref.tension;\n\n  tension = tension || 0.3;\n  var diffs = [];\n  var l = points.length;\n  if (l <= 2) {\n    return (0, _polygon2['default'])({ points: points });\n  }\n  for (var i = 1; i <= l - 1; i++) {\n    diffs.push((0, _ops.times)(tension, (0, _ops.minus)(points[i], points[i - 1])));\n  }\n  var controlPoints = [(0, _ops.plus)(points[0], reflect(diffs[0], diffs[1]))];\n  for (var i = 1; i <= l - 2; i++) {\n    controlPoints.push((0, _ops.minus)(points[i], (0, _ops.average)([diffs[i], diffs[i - 1]])));\n  }\n  controlPoints.push((0, _ops.minus)(points[l - 1], reflect(diffs[l - 2], diffs[l - 3])));\n  var c0 = controlPoints[0];\n  var c1 = controlPoints[1];\n  var p0 = points[0];\n  var p1 = points[1];\n  var path = (_Path = (0, _path2['default'])()).moveto.apply(_Path, _toConsumableArray(p0)).curveto(c0[0], c0[1], c1[0], c1[1], p1[0], p1[1]);\n\n  return {\n    path: (0, _ops.range)(2, l).reduce(function (pt, i) {\n      var c = controlPoints[i];\n      var p = points[i];\n      return pt.smoothcurveto(c[0], c[1], p[0], p[1]);\n    }, path),\n    centroid: (0, _ops.average)(points)\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _linear = require('./linear');\n\nvar _linear2 = _interopRequireDefault(_linear);\n\nvar _sector = require('./sector');\n\nvar _sector2 = _interopRequireDefault(_sector);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var data = _ref.data;\n  var accessor = _ref.accessor;\n  var center = _ref.center;\n  var r = _ref.r;\n  var R = _ref.R;\n  var compute = _ref.compute;\n\n  var values = data.map(accessor);\n  var s = (0, _ops.sum)(values);\n  var scale = (0, _linear2['default'])([0, s], [0, 2 * Math.PI]);\n  var curves = [];\n  var t = 0;\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = data.entries()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var _step$value = _slicedToArray(_step.value, 2);\n\n      var i = _step$value[0];\n      var item = _step$value[1];\n\n      var value = values[i];\n      curves.push((0, _ops.enhance)(compute, {\n        item: item,\n        index: i,\n        sector: (0, _sector2['default'])({\n          center: center,\n          r: r,\n          R: R,\n          start: scale(t),\n          end: scale(t + value)\n        })\n      }));\n      t += value;\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return { curves: curves };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nvar _path = require('./path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var _Path;\n\n  var points = _ref.points;\n  var closed = _ref.closed;\n\n  var l = points.length;\n  var head = points[0];\n  var tail = points.slice(1, l + 1);\n  var path = tail.reduce(function (pt, p) {\n    return pt.lineto.apply(pt, _toConsumableArray(p));\n  }, (_Path = (0, _path2['default'])()).moveto.apply(_Path, _toConsumableArray(head)));\n\n  return {\n    path: closed ? path.closepath() : path,\n    centroid: (0, _ops.average)(points)\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _semiRegularPolygon = require('./semi-regular-polygon');\n\nvar _semiRegularPolygon2 = _interopRequireDefault(_semiRegularPolygon);\n\nvar _ops = require('./ops');\n\nvar collectKeys = function collectKeys(objects) {\n  var keys = [];\n  var keysets = objects.map(Object.keys);\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = objects[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var object = _step.value;\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = Object.keys(object)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var key = _step2.value;\n\n          if (keys.indexOf(key) == -1) {\n            keys.push(key);\n          }\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n            _iterator2['return']();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return keys;\n};\n\nvar keyAccessor = function keyAccessor(keys) {\n  var a = {};\n  var _iteratorNormalCompletion3 = true;\n  var _didIteratorError3 = false;\n  var _iteratorError3 = undefined;\n\n  try {\n    for (var _iterator3 = keys[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n      var key = _step3.value;\n\n      (function (k) {\n        a[k] = function (o) {\n          return o[k];\n        };\n      })(key);\n    }\n  } catch (err) {\n    _didIteratorError3 = true;\n    _iteratorError3 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion3 && _iterator3['return']) {\n        _iterator3['return']();\n      }\n    } finally {\n      if (_didIteratorError3) {\n        throw _iteratorError3;\n      }\n    }\n  }\n\n  return a;\n};\n\nvar globalMax = function globalMax(data, accessor) {\n  var keys = Object.keys(accessor);\n  var maxs = data.map(function (d) {\n    return (0, _ops.maxBy)(keys, function (k) {\n      return accessor[k](d);\n    });\n  });\n  return (0, _ops.max)(maxs);\n};\n\nexports['default'] = function (_ref) {\n  var data = _ref.data;\n  var accessor = _ref.accessor;\n  var center = _ref.center;\n  var r = _ref.r;\n  var max = _ref.max;\n  var _ref$rings = _ref.rings;\n  var rings = _ref$rings === undefined ? 3 : _ref$rings;\n  var _ref$compute = _ref.compute;\n  var compute = _ref$compute === undefined ? {} : _ref$compute;\n\n  if (!accessor) {\n    accessor = keyAccessor(collectKeys(data));\n  }\n  var keys = Object.keys(accessor);\n  var sides = keys.length;\n  var angle = 2 * Math.PI / sides;\n  var i = -1;\n  if (max == null) {\n    max = globalMax(data, accessor);\n  }\n\n  var ringPaths = (0, _ops.range)(1, rings, true).map(function (n) {\n    var radius = r * n / rings;\n    return (0, _semiRegularPolygon2['default'])({\n      center: center,\n      radii: (0, _ops.range)(0, sides).map(function (s) {\n        return radius;\n      })\n    });\n  });\n\n  var polygons = data.map(function (d) {\n    i += 1;\n\n    return (0, _ops.enhance)(compute, {\n      polygon: (0, _semiRegularPolygon2['default'])({\n        center: center,\n        radii: keys.map(function (k) {\n          return r * accessor[k](d) / max;\n        })\n      }),\n      item: d,\n      index: i\n    });\n  });\n\n  return {\n    curves: polygons,\n    rings: ringPaths\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _polygon = require('./polygon');\n\nvar _polygon2 = _interopRequireDefault(_polygon);\n\nexports['default'] = function (_ref) {\n  var left = _ref.left;\n  var right = _ref.right;\n  var top = _ref.top;\n  var bottom = _ref.bottom;\n\n  return (0, _polygon2['default'])({\n    points: [[right, top], [right, bottom], [left, bottom], [left, top]],\n    closed: true\n  });\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _rectangle = require('./rectangle');\n\nvar _rectangle2 = _interopRequireDefault(_rectangle);\n\nvar _curvedRectangle = require('./curved-rectangle');\n\nvar _curvedRectangle2 = _interopRequireDefault(_curvedRectangle);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var data = _ref.data;\n  var nodeaccessor = _ref.nodeaccessor;\n  var linkaccessor = _ref.linkaccessor;\n  var width = _ref.width;\n  var height = _ref.height;\n  var gutter = _ref.gutter;\n  var rectWidth = _ref.rectWidth;\n  var compute = _ref.compute;\n\n  var id = function id(x) {\n    return x;\n  };\n  if (!nodeaccessor) {\n    nodeaccessor = id;\n  }\n  if (!linkaccessor) {\n    linkaccessor = id;\n  }\n  gutter = gutter || 10;\n  rectWidth = rectWidth || 10;\n\n  var links_ = data.links.map(linkaccessor);\n  var nodes_ = data.nodes.map(function (level) {\n    return level.map(nodeaccessor);\n  });\n\n  // Compute the spacing between groups of rectangles;\n  // takes care of rects width\n  var spacingGroups = (width - rectWidth) / (data.nodes.length - 1);\n  var nameValues = {};\n\n  // Initialize the information about nodes\n  nodes_.reduce(function (a, b) {\n    return a.concat(b);\n  }).forEach(function (name) {\n    nameValues[name] = {\n      value: 0,\n      currentlyUsedIn: 0,\n      currentlyUsedOut: 0\n    };\n  });\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    var _loop = function () {\n      var _step$value = _slicedToArray(_step.value, 2);\n\n      var name = _step$value[0];\n      var val = _step$value[1];\n\n      var valsIn = (0, _ops.sumBy)(links_.filter(function (x) {\n        return x.end === name;\n      }), function (x) {\n        return x.weight;\n      });\n      var valsOut = (0, _ops.sumBy)(links_.filter(function (x) {\n        return x.start === name;\n      }), function (x) {\n        return x.weight;\n      });\n      val.value = Math.max(valsIn, valsOut);\n    };\n\n    for (var _iterator = (0, _ops.pairs)(nameValues)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      _loop();\n    }\n\n    // Find a suitable scale: it should take care of the maximum height\n    // of stacked rectangles and gutters between them.\n    // I did as follows: take the initial height and, for each group of\n    // rectangles, compute how much space you have available, that is,\n    // height - gutters; there are lengthOfGroup - 1 gutters.\n    // Consider the ratios spaceForEachGroup / heightOfStackedRectangles\n    // and take the minimum. Use this as scale factor.\n\n    // Compute height of staked rectangles in a group\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var heightOfGroups = nodes_.map(function (group) {\n    return (0, _ops.sumBy)(group, function (name) {\n      return nameValues[name].value;\n    });\n  });\n\n  // Compute the available height for each group (height - gutters)\n  var spaceForEachGroup = nodes_.map(function (group) {\n    return height - (group.length - 1) * gutter;\n  });\n\n  // Compute minimum ratio\n  var scale = (0, _ops.min)(heightOfGroups.map(function (heightOfGroup, idx) {\n    return spaceForEachGroup[idx] / heightOfGroup;\n  }));\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = (0, _ops.pairs)(nameValues)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var _step2$value = _slicedToArray(_step2.value, 2);\n\n      var _name = _step2$value[0];\n      var val = _step2$value[1];\n\n      val.scaledValue = scale * val.value;\n    }\n\n    // Fill rectangles information: each rectangle\n    // is stack on the previous one, with a gutter\n    // The group of rectangles is centered in their own column\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n        _iterator2['return']();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  var rectangles = [];\n  var nodeIdx = -1;\n\n  nodes_.forEach(function (group, idg) {\n    var hGroup = (0, _ops.sumBy)(group, function (y) {\n      return nameValues[y].scaledValue;\n    }) + (group.length - 1) * gutter;\n    var firstTop = (height - hGroup) / 2;\n    // Fake previous bottom\n    var previousBottom = firstTop - gutter;\n    group.forEach(function (name, idn) {\n      var top = previousBottom + gutter;\n      var bottom = top + nameValues[name].scaledValue;\n      previousBottom = bottom;\n      var att = {\n        top: top,\n        bottom: bottom,\n        left: rectWidth / 2 + idg * spacingGroups - rectWidth / 2,\n        right: rectWidth / 2 + idg * spacingGroups + rectWidth / 2\n      };\n      nameValues[name].rectangleCoords = att;\n      nodeIdx += 1;\n      rectangles.push((0, _ops.enhance)(compute, {\n        curve: (0, _rectangle2['default'])(att),\n        item: data.nodes[idg][idn],\n        index: nodeIdx,\n        group: idg\n      }));\n    });\n  });\n\n  var curvedRectangles = links_.map(function (link, i) {\n    var s = nameValues[link.start];\n    var t = nameValues[link.end];\n    var rectSource = s.rectangleCoords;\n    var rectTarget = t.rectangleCoords;\n    var scaledWeight = link.weight * scale;\n    var a = rectSource.top + s.currentlyUsedOut;\n    var b = rectTarget.top + t.currentlyUsedIn;\n    var curvedRect = {\n      topleft: [rectSource.right, a],\n      topright: [rectTarget.left, b],\n      bottomleft: [rectSource.right, a + scaledWeight],\n      bottomright: [rectTarget.left, b + scaledWeight]\n    };\n    s.currentlyUsedOut += scaledWeight;\n    t.currentlyUsedIn += scaledWeight;\n\n    return (0, _ops.enhance)(compute, {\n      curve: (0, _curvedRectangle2['default'])(curvedRect),\n      item: data.links[i],\n      index: i\n    });\n  });\n\n  return {\n    curvedRectangles: curvedRectangles,\n    rectangles: rectangles\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _linear = require('./linear');\n\nvar _linear2 = _interopRequireDefault(_linear);\n\nvar _rectangle = require('./rectangle');\n\nvar _rectangle2 = _interopRequireDefault(_rectangle);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var data = _ref.data;\n  var _ref$accessor = _ref.accessor;\n  var accessor = _ref$accessor === undefined ? _ops.id : _ref$accessor;\n  var width = _ref.width;\n  var height = _ref.height;\n  var min = _ref.min;\n  var max = _ref.max;\n  var _ref$gutter = _ref.gutter;\n  var gutter = _ref$gutter === undefined ? 10 : _ref$gutter;\n  var compute = _ref.compute;\n\n  var groups = [];\n  if (min == null) {\n    min = 0;\n  }\n  if (max == null) {\n    max = 0;\n  }\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = data.entries()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var _step$value = _slicedToArray(_step.value, 2);\n\n      var i = _step$value[0];\n      var d = _step$value[1];\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = d.entries()[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var _step3$value = _slicedToArray(_step3.value, 2);\n\n          var j = _step3$value[0];\n          var el = _step3$value[1];\n\n          var val = accessor(el);\n          if (val < min) {\n            min = val;\n          }\n          if (val > max) {\n            max = val;\n          }\n          if (groups[j] == null) {\n            groups[j] = [];\n          }\n          groups[j][i] = val;\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3['return']) {\n            _iterator3['return']();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var n = groups.length;\n  var groupWidth = (width - gutter * (n - 1)) / n;\n  var curves = [];\n  var scale = (0, _linear2['default'])([min, max], [height, 0]);\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = groups.entries()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var _step2$value = _slicedToArray(_step2.value, 2);\n\n      var i = _step2$value[0];\n      var g = _step2$value[1];\n\n      var w = groupWidth / g.length;\n      var shift = (groupWidth + gutter) * i;\n      var _iteratorNormalCompletion4 = true;\n      var _didIteratorError4 = false;\n      var _iteratorError4 = undefined;\n\n      try {\n        for (var _iterator4 = g.entries()[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n          var _step4$value = _slicedToArray(_step4.value, 2);\n\n          var j = _step4$value[0];\n          var el = _step4$value[1];\n\n          var left = shift + w * j;\n          var right = left + w;\n          var bottom = scale(0);\n          var _top = scale(el);\n          var line = (0, _rectangle2['default'])({ left: left, right: right, bottom: bottom, top: _top });\n          curves.push((0, _ops.enhance)(compute, {\n            item: data[j][i],\n            line: line,\n            group: i,\n            index: j\n          }));\n        }\n      } catch (err) {\n        _didIteratorError4 = true;\n        _iteratorError4 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion4 && _iterator4['return']) {\n            _iterator4['return']();\n          }\n        } finally {\n          if (_didIteratorError4) {\n            throw _iteratorError4;\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n        _iterator2['return']();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  return {\n    curves: curves,\n    scale: scale\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _polygon = require('./polygon');\n\nvar _polygon2 = _interopRequireDefault(_polygon);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var center = _ref.center;\n  var radii = _ref.radii;\n\n  var angle = 2 * Math.PI / radii.length;\n  var points = radii.map(function (r, i) {\n    return (0, _ops.plus)(center, (0, _ops.onCircle)(r, i * angle));\n  });\n\n  return (0, _polygon2['default'])({\n    points: points,\n    closed: true\n  });\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nvar _bezier = require('./bezier');\n\nvar _bezier2 = _interopRequireDefault(_bezier);\n\nvar _lineChartComp = require('./line-chart-comp');\n\nvar _lineChartComp2 = _interopRequireDefault(_lineChartComp);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (options) {\n  var _comp = (0, _lineChartComp2['default'])(options);\n\n  var arranged = _comp.arranged;\n  var scale = _comp.scale;\n  var xscale = _comp.xscale;\n  var yscale = _comp.yscale;\n  var base = _comp.base;\n\n  var i = -1;\n\n  var lines = arranged.map(function (_ref) {\n    var _line$path$lineto, _line$path;\n\n    var points = _ref.points;\n    var xmin = _ref.xmin;\n    var xmax = _ref.xmax;\n\n    var scaledPoints = points.map(scale);\n    i += 1;\n    var line = (0, _bezier2['default'])({ points: scaledPoints });\n    var area = {\n      path: (_line$path$lineto = (_line$path = line.path).lineto.apply(_line$path, _toConsumableArray(scale([xmax, base])))).lineto.apply(_line$path$lineto, _toConsumableArray(scale([xmin, base]))).closepath(),\n      centroid: (0, _ops.average)([line.centroid, scale([xmin, base]), scale([xmax, base])])\n    };\n\n    return (0, _ops.enhance)(options.compute, {\n      item: options.data[i],\n      line: line,\n      area: area,\n      index: i\n    });\n  });\n\n  return {\n    curves: lines,\n    xscale: xscale,\n    yscale: yscale\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _polygon = require('./polygon');\n\nvar _polygon2 = _interopRequireDefault(_polygon);\n\nvar _lineChartComp = require('./line-chart-comp');\n\nvar _lineChartComp2 = _interopRequireDefault(_lineChartComp);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (options) {\n  var _comp = (0, _lineChartComp2['default'])(options);\n\n  var arranged = _comp.arranged;\n  var scale = _comp.scale;\n  var xscale = _comp.xscale;\n  var yscale = _comp.yscale;\n  var base = _comp.base;\n\n  var i = -1;\n\n  var polygons = arranged.map(function (_ref) {\n    var points = _ref.points;\n    var xmin = _ref.xmin;\n    var xmax = _ref.xmax;\n\n    var scaledPoints = points.map(scale);\n    points.push([xmax, base]);\n    points.push([xmin, base]);\n    var scaledPointsClosed = points.map(scale);\n    i += 1;\n\n    return (0, _ops.enhance)(options.compute, {\n      item: options.data[i],\n      line: (0, _polygon2['default'])({\n        points: scaledPoints,\n        closed: false\n      }),\n      area: (0, _polygon2['default'])({\n        points: scaledPointsClosed,\n        closed: true\n      }),\n      index: i\n    });\n  });\n\n  return {\n    curves: polygons,\n    xscale: xscale,\n    yscale: yscale\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _connector = require('./connector');\n\nvar _connector2 = _interopRequireDefault(_connector);\n\nvar _linear = require('./linear');\n\nvar _linear2 = _interopRequireDefault(_linear);\n\nvar _ops = require('./ops');\n\nvar _treeUtils = require('./tree-utils');\n\nexports['default'] = function (_ref) {\n  var data = _ref.data;\n  var width = _ref.width;\n  var height = _ref.height;\n  var children = _ref.children;\n  var tension = _ref.tension;\n\n  if (!children) {\n    children = function (x) {\n      return x.children;\n    };\n  }\n  var tree = (0, _treeUtils.buildTree)(data, children);\n  var levels = (0, _treeUtils.treeHeight)(tree);\n  var maxHeights = (0, _treeUtils.setHeight)(tree);\n  var hspace = width / (levels - 1);\n  var hscale = (0, _linear2['default'])([0, levels - 1], [0, width]);\n  var vscales = (0, _ops.range)(0, levels).map(function (level) {\n    var availableHeight = Math.sqrt(level / (levels - 1)) * height;\n    var top = (height - availableHeight) / 2;\n    var bottom = top + availableHeight;\n    var maxHeight = level > 0 ? maxHeights[level] + maxHeights[level - 1] : maxHeights[level];\n    if (maxHeight === 0) {\n      return function (x) {\n        return height / 2;\n      };\n    } else {\n      return (0, _linear2['default'])([0, maxHeight], [top, bottom]);\n    }\n  });\n\n  var position = function position(node) {\n    var level = node.level;\n    var vscale = vscales[level];\n    return [hscale(level), vscale(node.height_)];\n  };\n\n  var i = -1;\n  var connectors = (0, _treeUtils.collect)(tree, function (parent, child) {\n    i += 1;\n    child.height_ = child.height + parent.height;\n    return {\n      connector: (0, _connector2['default'])({\n        start: position(parent),\n        end: position(child),\n        tension: tension\n      }),\n      index: i,\n      item: {\n        start: parent.item,\n        end: child.item\n      }\n    };\n  });\n  var childNodes = (0, _treeUtils.collect)(tree, function (parent, child) {\n    return {\n      point: position(child),\n      item: child.item\n    };\n  });\n  var rootNode = {\n    point: position(tree),\n    item: tree.item\n  };\n\n  return {\n    curves: connectors,\n    nodes: [rootNode].concat(childNodes)\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _linear = require('./linear');\n\nvar _linear2 = _interopRequireDefault(_linear);\n\nvar _rectangle = require('./rectangle');\n\nvar _rectangle2 = _interopRequireDefault(_rectangle);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var data = _ref.data;\n  var accessor = _ref.accessor;\n  var width = _ref.width;\n  var height = _ref.height;\n  var _ref$gutter = _ref.gutter;\n  var gutter = _ref$gutter === undefined ? 10 : _ref$gutter;\n  var compute = _ref.compute;\n  var _ref$min = _ref.min;\n  var min = _ref$min === undefined ? 0 : _ref$min;\n  var _ref$max = _ref.max;\n  var max = _ref$max === undefined ? 0 : _ref$max;\n\n  if (!accessor) {\n    accessor = function (x) {\n      return x;\n    };\n  }\n  var last = 0;\n  var data_ = [];\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = data[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var d = _step.value;\n\n      var _accessor = accessor(d);\n\n      var value = _accessor.value;\n      var absolute = _accessor.absolute;\n\n      var _ref2 = absolute ? [0, value || last] : [last, last + value];\n\n      var _ref22 = _slicedToArray(_ref2, 2);\n\n      var low = _ref22[0];\n      var high = _ref22[1];\n\n      var m = Math.min(low, high);\n      var M = Math.max(low, high);\n      min = Math.min(min, m);\n      max = Math.max(max, M);\n      last = high;\n\n      data_.push({\n        item: d,\n        low: low,\n        high: high,\n        value: value != null ? value : high\n      });\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var n = data_.length;\n  var barWidth = (width - gutter * (n - 1)) / n;\n  var curves = [];\n  var scale = (0, _linear2['default'])([min, max], [height, 0]);\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = data_.entries()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var _step2$value = _slicedToArray(_step2.value, 2);\n\n      var i = _step2$value[0];\n      var d = _step2$value[1];\n\n      var left = i * (barWidth + gutter);\n      var right = left + barWidth;\n      var bottom = scale(d.low);\n      var _top = scale(d.high);\n      var line = (0, _rectangle2['default'])({ left: left, right: right, bottom: bottom, top: _top });\n      curves.push((0, _ops.enhance)(compute, {\n        item: d.item,\n        line: line,\n        value: d.value,\n        index: i\n      }));\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n        _iterator2['return']();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  return {\n    curves: curves,\n    scale: scale\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nvar _path = require('./path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var _Path$moveto$lineto$curveto, _Path$moveto, _Path;\n\n  var start = _ref.start;\n  var end = _ref.end;\n  var tension = _ref.tension;\n\n  if (tension == null) {\n    tension = 0.05;\n  }\n\n  var _start = _slicedToArray(start, 2);\n\n  var a = _start[0];\n  var b = _start[1];\n\n  var _end = _slicedToArray(end, 2);\n\n  var c = _end[0];\n  var d = _end[1];\n\n  var length = (c - a) * tension;\n  var mid1 = [a + length, b];\n  var mid2 = [c - length, d];\n\n  return {\n    path: (_Path$moveto$lineto$curveto = (_Path$moveto = (_Path = (0, _path2['default'])()).moveto.apply(_Path, _toConsumableArray(start))).lineto.apply(_Path$moveto, mid1).curveto(a + 5 * length, b, c - 5 * length, d, c - length, d)).lineto.apply(_Path$moveto$lineto$curveto, _toConsumableArray(end)),\n    centroid: (0, _ops.average)([start, end])\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _path = require('./path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _connector = require('./connector');\n\nvar _connector2 = _interopRequireDefault(_connector);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var topleft = _ref.topleft;\n  var topright = _ref.topright;\n  var bottomleft = _ref.bottomleft;\n  var bottomright = _ref.bottomright;\n\n  var topCurve = (0, _connector2['default'])({ start: topleft, end: topright }).path;\n  var bottomCurve = (0, _connector2['default'])({ start: bottomright, end: bottomleft }).path;\n  var path = topCurve.connect(bottomCurve).closepath();\n  var centroid = (0, _ops.average)([topleft, topright, bottomleft, bottomright]);\n\n  return {\n    path: path,\n    centroid: centroid\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nvar _path = require('./path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var _Path$moveto$arc$lineto, _Path$moveto$arc, _Path$moveto, _Path;\n\n  var center = _ref.center;\n  var r = _ref.r;\n  var R = _ref.R;\n  var start = _ref.start;\n  var end = _ref.end;\n\n  var a = (0, _ops.plus)(center, (0, _ops.onCircle)(R, start));\n  var b = (0, _ops.plus)(center, (0, _ops.onCircle)(R, end));\n  var c = (0, _ops.plus)(center, (0, _ops.onCircle)(r, end));\n  var d = (0, _ops.plus)(center, (0, _ops.onCircle)(r, start));\n\n  var large = end - start > Math.PI ? 1 : 0;\n\n  var path = (_Path$moveto$arc$lineto = (_Path$moveto$arc = (_Path$moveto = (_Path = (0, _path2['default'])()).moveto.apply(_Path, _toConsumableArray(a))).arc.apply(_Path$moveto, [R, R, 0, large, 1].concat(_toConsumableArray(b)))).lineto.apply(_Path$moveto$arc, _toConsumableArray(c))).arc.apply(_Path$moveto$arc$lineto, [r, r, 0, large, 0].concat(_toConsumableArray(d))).closepath();\n\n  var midAngle = (start + end) / 2;\n  var midRadius = (r + R) / 2;\n  var centroid = (0, _ops.plus)(center, (0, _ops.onCircle)(midRadius, midAngle));\n\n  return {\n    path: path,\n    centroid: centroid\n  };\n};\n\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; })();\n\nvar sum = function sum(xs) {\n  return xs.reduce(function (a, b) {\n    return a + b;\n  }, 0);\n};\n\nvar min = function min(xs) {\n  return xs.reduce(function (a, b) {\n    return Math.min(a, b);\n  });\n};\n\nvar max = function max(xs) {\n  return xs.reduce(function (a, b) {\n    return Math.max(a, b);\n  });\n};\n\nvar sumBy = function sumBy(xs, f) {\n  return xs.reduce(function (a, b) {\n    return a + f(b);\n  }, 0);\n};\n\nvar minBy = function minBy(xs, f) {\n  return xs.reduce(function (a, b) {\n    return Math.min(a, f(b));\n  }, Infinity);\n};\n\nvar maxBy = function maxBy(xs, f) {\n  return xs.reduce(function (a, b) {\n    return Math.max(a, f(b));\n  }, -Infinity);\n};\n\nvar plus = function plus(_ref, _ref3) {\n  var _ref2 = _slicedToArray(_ref, 2);\n\n  var a = _ref2[0];\n  var b = _ref2[1];\n\n  var _ref32 = _slicedToArray(_ref3, 2);\n\n  var c = _ref32[0];\n  var d = _ref32[1];\n  return [a + c, b + d];\n};\n\nvar minus = function minus(_ref4, _ref5) {\n  var _ref42 = _slicedToArray(_ref4, 2);\n\n  var a = _ref42[0];\n  var b = _ref42[1];\n\n  var _ref52 = _slicedToArray(_ref5, 2);\n\n  var c = _ref52[0];\n  var d = _ref52[1];\n  return [a - c, b - d];\n};\n\nvar times = function times(k, _ref6) {\n  var _ref62 = _slicedToArray(_ref6, 2);\n\n  var a = _ref62[0];\n  var b = _ref62[1];\n  return [k * a, k * b];\n};\n\nvar length = function length(_ref7) {\n  var _ref72 = _slicedToArray(_ref7, 2);\n\n  var a = _ref72[0];\n  var b = _ref72[1];\n  return Math.sqrt(a * a + b * b);\n};\n\nvar sumVectors = function sumVectors(xs) {\n  return xs.reduce(plus, [0, 0]);\n};\n\nvar average = function average(points) {\n  return times(1 / points.length, points.reduce(plus));\n};\n\nvar onCircle = function onCircle(r, angle) {\n  return times(r, [Math.sin(angle), -Math.cos(angle)]);\n};\n\nvar enhance = function enhance(compute, curve) {\n  var obj = compute || {};\n  for (var key in obj) {\n    var method = obj[key];\n    curve[key] = method(curve.index, curve.item, curve.group);\n  }\n  return curve;\n};\n\nvar range = function range(a, b, inclusive) {\n  var result = [];\n  for (var i = a; i < b; i++) {\n    result.push(i);\n  }\n  if (inclusive) {\n    result.push(b);\n  }\n  return result;\n};\n\nvar mapObject = function mapObject(obj, f) {\n  var result = [];\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = Object.keys(obj)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var k = _step.value;\n\n      var v = obj[k];\n      result.push(f(k, v));\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator[\"return\"]) {\n        _iterator[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return result;\n};\n\nvar pairs = function pairs(obj) {\n  return mapObject(obj, function (k, v) {\n    return [k, v];\n  });\n};\n\nvar id = function id(x) {\n  return x;\n};\n\nexports.sum = sum;\nexports.min = min;\nexports.max = max;\nexports.sumBy = sumBy;\nexports.minBy = minBy;\nexports.maxBy = maxBy;\nexports.plus = plus;\nexports.minus = minus;\nexports.times = times;\nexports.id = id;\nexports.length = length;\nexports.sumVectors = sumVectors;\nexports.average = average;\nexports.onCircle = onCircle;\nexports.enhance = enhance;\nexports.range = range;\nexports.mapObject = mapObject;\nexports.pairs = pairs;\nexports[\"default\"] = { sum: sum, min: min, max: max, sumBy: sumBy, minBy: minBy, maxBy: maxBy, plus: plus, minus: minus, times: times, id: id,\n  length: length, sumVectors: sumVectors, average: average, onCircle: onCircle, enhance: enhance, range: range, mapObject: mapObject, pairs: pairs };","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar _ops = require('./ops');\n\nvar average = function average(body1, body2) {\n  var mass = body1.mass + body2.mass;\n  var point = (0, _ops.times)(1 / mass, (0, _ops.plus)((0, _ops.times)(body1.mass, body1.point), (0, _ops.times)(body2.mass, body2.point)));\n  return [point, mass];\n};\n\nvar locate = function locate(_ref, quadrants) {\n  var _ref2 = _slicedToArray(_ref, 2);\n\n  var x = _ref2[0];\n  var y = _ref2[1];\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = quadrants[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var q = _step.value;\n      var _q$box = q.box;\n      var _top = _q$box.top;\n      var bottom = _q$box.bottom;\n      var left = _q$box.left;\n      var right = _q$box.right;\n\n      if (left <= x && x <= right && bottom <= y && y <= _top) {\n        return q;\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n};\n\nvar makeQuadrant = function makeQuadrant(_ref3, _ref4) {\n  var top = _ref3.top;\n  var bottom = _ref3.bottom;\n  var left = _ref3.left;\n  var right = _ref3.right;\n\n  var _ref42 = _slicedToArray(_ref4, 2);\n\n  var a = _ref42[0];\n  var b = _ref42[1];\n\n  var halfwayV = (left + right) / 2;\n  var halfwayH = (top + bottom) / 2;\n\n  return {\n    box: {\n      top: b ? halfwayH : top,\n      bottom: b ? bottom : halfwayH,\n      left: a ? halfwayV : left,\n      right: a ? right : halfwayV\n    }\n  };\n};\n\nvar subdivide = function subdivide(_ref5) {\n  var box = _ref5.box;\n  return [makeQuadrant(box, [0, 0]), makeQuadrant(box, [1, 0]), makeQuadrant(box, [0, 1]), makeQuadrant(box, [1, 1])];\n};\n\nvar addBody = function addBody(root, body) {\n  if (root.body) {\n    var oldBody = root.body;\n    delete root.body;\n    root.children = subdivide(root);\n    addBody(root, oldBody);\n    addBody(root, body);\n  } else {\n    if (root.children) {\n      var child = locate(body.point, root.children);\n\n      var _ref6 = root.point ? average(root, body) : [body.point, body.mass];\n\n      var _ref62 = _slicedToArray(_ref6, 2);\n\n      var p = _ref62[0];\n      var m = _ref62[1];\n\n      root.point = p;\n      root.mass = m;\n      addBody(child, body);\n    } else {\n      root.body = body;\n    }\n  }\n};\n\nvar makeTree = function makeTree(_x, _x2) {\n  var _again = true;\n\n  _function: while (_again) {\n    var bodies = _x,\n        root = _x2;\n    _again = false;\n\n    if (bodies.length === 0) {\n      return root;\n    } else {\n      var body = bodies.shift();\n      addBody(root, body);\n      _x = bodies;\n      _x2 = root;\n      _again = true;\n      body = undefined;\n      continue _function;\n    }\n  }\n};\n\nvar makeBodies = function makeBodies(positions) {\n  return (0, _ops.mapObject)(positions, function (id, position) {\n    return { id: id, point: position, mass: 1 };\n  });\n};\n\nvar makeRoot = function makeRoot(width, height) {\n  return {\n    box: {\n      top: height,\n      bottom: 0,\n      left: 0,\n      right: width\n    }\n  };\n};\n\nvar walkLeaves = function walkLeaves(tree, f) {\n  if (tree.body) {\n    f(tree);\n  } else {\n    if (tree.children) {\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = tree.children[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var child = _step2.value;\n\n          walkLeaves(child, f);\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n            _iterator2['return']();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n    }\n  }\n};\n\nvar bodyForceOn = function bodyForceOn(b1, b2, repulsion) {\n  var segment = (0, _ops.minus)(b1.point, b2.point);\n  var d = (0, _ops.length)(segment);\n  return (0, _ops.times)(repulsion * b1.mass * b2.mass / (d * d * d), segment);\n};\n\nvar boxWidth = function boxWidth(_ref7) {\n  var top = _ref7.top;\n  var bottom = _ref7.bottom;\n  var left = _ref7.left;\n  var right = _ref7.right;\n  return (0, _ops.length)([top - bottom, right - left]);\n};\n\nvar forceOn = function forceOn(leaf, tree, repulsion, threshold) {\n  if (tree === leaf) {\n    return [0, 0];\n  } else if (tree.body) {\n    return bodyForceOn(leaf.body, tree.body, repulsion);\n  } else if (tree.point) {\n    var s = boxWidth(tree.box);\n    var d = (0, _ops.length)((0, _ops.minus)(leaf.body.point, tree.point));\n\n    if (s / d < threshold) {\n      return bodyForceOn(leaf.body, tree, repulsion);\n    } else return (0, _ops.sumVectors)(tree.children.map(function (c) {\n      return forceOn(leaf, c, repulsion, threshold);\n    }));\n  } else return [0, 0];\n};\n\nvar repulsiveForces = function repulsiveForces(tree, repulsion, threshold) {\n  var forces = {};\n  walkLeaves(tree, function (leaf) {\n    forces[leaf.body.id] = forceOn(leaf, tree, repulsion, threshold);\n  });\n  return forces;\n};\n\nexports.tree = makeTree;\nexports.bodies = makeBodies;\nexports.root = makeRoot;\nexports.forces = repulsiveForces;\nexports['default'] = {\n  tree: makeTree,\n  bodies: makeBodies,\n  root: makeRoot,\n  forces: repulsiveForces\n};","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _linear = require('./linear');\n\nvar _linear2 = _interopRequireDefault(_linear);\n\nvar _ops = require('./ops');\n\nvar epsilon = 1e-5;\n\nvar box = function box(datum, accessor) {\n  var points = datum.map(accessor);\n  var sorted = points.sort(function (_ref, _ref3) {\n    var _ref2 = _slicedToArray(_ref, 2);\n\n    var a = _ref2[0];\n    var b = _ref2[1];\n\n    var _ref32 = _slicedToArray(_ref3, 2);\n\n    var c = _ref32[0];\n    var d = _ref32[1];\n    return a - c;\n  });\n  var l = sorted.length;\n  var xmin = sorted[0][0];\n  var xmax = sorted[l - 1][0];\n  var ymin = (0, _ops.minBy)(sorted, function (p) {\n    return p[1];\n  });\n  var ymax = (0, _ops.maxBy)(sorted, function (p) {\n    return p[1];\n  });\n  if (xmin == xmax) {\n    xmax += epsilon;\n  }\n  if (ymin == ymax) {\n    ymax += epsilon;\n  }\n\n  return {\n    points: sorted,\n    xmin: xmin,\n    xmax: xmax,\n    ymin: ymin,\n    ymax: ymax\n  };\n};\n\nexports['default'] = function (_ref4) {\n  var data = _ref4.data;\n  var xaccessor = _ref4.xaccessor;\n  var yaccessor = _ref4.yaccessor;\n  var width = _ref4.width;\n  var height = _ref4.height;\n  var closed = _ref4.closed;\n  var min = _ref4.min;\n  var max = _ref4.max;\n\n  if (!xaccessor) {\n    xaccessor = function (_ref5) {\n      var _ref52 = _slicedToArray(_ref5, 2);\n\n      var x = _ref52[0];\n      var y = _ref52[1];\n      return x;\n    };\n  }\n  if (!yaccessor) {\n    yaccessor = function (_ref6) {\n      var _ref62 = _slicedToArray(_ref6, 2);\n\n      var x = _ref62[0];\n      var y = _ref62[1];\n      return y;\n    };\n  }\n  var f = function f(i) {\n    return [xaccessor(i), yaccessor(i)];\n  };\n  var arranged = data.map(function (datum) {\n    return box(datum, f);\n  });\n\n  var xmin = (0, _ops.minBy)(arranged, function (d) {\n    return d.xmin;\n  });\n  var xmax = (0, _ops.maxBy)(arranged, function (d) {\n    return d.xmax;\n  });\n  var ymin = min == null ? (0, _ops.minBy)(arranged, function (d) {\n    return d.ymin;\n  }) : min;\n  var ymax = max == null ? (0, _ops.maxBy)(arranged, function (d) {\n    return d.ymax;\n  }) : max;\n  if (closed) {\n    ymin = Math.min(ymin, 0);\n    ymax = Math.max(ymax, 0);\n  }\n  var base = closed ? 0 : ymin;\n  var xscale = (0, _linear2['default'])([xmin, xmax], [0, width]);\n  var yscale = (0, _linear2['default'])([ymin, ymax], [height, 0]);\n  var scale = function scale(_ref7) {\n    var _ref72 = _slicedToArray(_ref7, 2);\n\n    var x = _ref72[0];\n    var y = _ref72[1];\n    return [xscale(x), yscale(y)];\n  };\n\n  return {\n    arranged: arranged,\n    scale: scale,\n    xscale: xscale,\n    yscale: yscale,\n    base: base\n  };\n};\n\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar maxBy = function maxBy(items, f) {\n  if (items === undefined) items = [];\n\n  return items.reduce(function (m, i) {\n    return Math.max(m, f(i));\n  }, 0);\n};\n\nvar treeHeight = function treeHeight(root) {\n  return 1 + maxBy(root.children, treeHeight);\n};\n\nvar buildTree = function buildTree(data, children) {\n  var level = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];\n\n  var result = {\n    item: data,\n    level: level\n  };\n  var cs = children(data);\n  if (cs && cs.length) {\n    result.children = cs.map(function (c) {\n      return buildTree(c, children, level + 1);\n    });\n  }\n  return result;\n};\n\nvar setHeight = function setHeight(root) {\n  var level = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n  var maxHeights = arguments.length <= 2 || arguments[2] === undefined ? [] : arguments[2];\n\n  if (maxHeights[level] != null) {\n    root.height = maxHeights[level] + 1;\n    maxHeights[level] += 1;\n  } else {\n    maxHeights[level] = 0;\n    root.height = 0;\n  }\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = (root.children || [])[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var child = _step.value;\n\n      setHeight(child, level + 1, maxHeights);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator[\"return\"]) {\n        _iterator[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return maxHeights;\n};\n\n// f is a function of (parent, child)\nvar collect = function collect(root, f) {\n  var result = [];\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = (root.children || [])[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var child = _step2.value;\n\n      result.push(f(root, child));\n      result = result.concat(collect(child, f));\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2[\"return\"]) {\n        _iterator2[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  return result;\n};\n\nexports.treeHeight = treeHeight;\nexports.buildTree = buildTree;\nexports.setHeight = setHeight;\nexports.collect = collect;"]}